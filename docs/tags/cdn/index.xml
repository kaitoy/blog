<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>cdn on To Be Decided</title>
    <link>https://www.kaitoy.xyz/tags/cdn/</link>
    <description>Recent content in cdn on To Be Decided</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>© 2015 Kaito Yamada</copyright>
    <lastBuildDate>Fri, 01 Jul 2016 14:17:41 -0600</lastBuildDate>
    
	<atom:link href="https://www.kaitoy.xyz/tags/cdn/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>CloudflareでブログをHTTPS化</title>
      <link>https://www.kaitoy.xyz/2016/07/01/https-support-by-cloudflare/</link>
      <pubDate>Fri, 01 Jul 2016 14:17:41 -0600</pubDate>
      
      <guid>https://www.kaitoy.xyz/2016/07/01/https-support-by-cloudflare/</guid>
      <description>最近GitHub PagesがHTTPSに正式対応したというニュースを見たことをきっかけに、このブログをCloudflareで常時HTTPS化した話。

   (adsbygoogle = window.adsbygoogle || []).push({});  このブログ このブログはGitHub Pagesでホストされている。 GitHub Pages上のWebサイトはデフォルトでは&amp;lt;GitHubユーザ名&amp;gt;.github.ioというドメインで公開されるが、ちょっとかっこつけたかったのでカスタムドメイン(www.kaitoy.xyz)にした。
GitHub Pagesは2014年3月から非公式にHTTPSをサポートしていて、2016年6月8日に正式サポートを表明したが、これは&amp;lt;GitHubユーザ名&amp;gt;.github.ioドメインだけが対象であり、カスタムドメインはHTTPSサポートされていない。
(2018/5/3追記: 2018/5/1にGitHub PagesのカスタムドメインのHTTPSサポートが発表された)
要するにこのブログにはHTTP接続しかできない状態だった。 これをなんとかHTTPSに対応させたかった。
なぜHTTPS HTTPS化(常時SSL化)が世界的な流行りな雰囲気を感じていたのと、なにより、Googleに優遇してもらえるから。 Googleの検索結果の2,3ページ目までに出てこないなら、そのサイトはこの世に存在しないのとあまり変わらない。
昔はHTTPSにするとSSLプロトコルのオーバーヘッドや暗号化/復号化処理によりHTTPに比べて遅くなると言われていたが、最近ではサーバ/クライアントマシンの性能が上がり、このデメリットは気にするほどのものではなくなった。 逆に、常時SSL化するとSPDYやHTTP/2といった高速なプロトコルの恩恵を受けることができるようになり、HTTPより速くなることもあるらしい。
カスタムドメインなGitHub PagesサイトをHTTPS対応する方法 上記の通りこのブログはカスタムドメインでGitHub Pagesのサポートがなく直接にはHTTPS対応できない。 よって間接的に対応することになるので、リバースプロキシを使うことになる。 リバースプロキシサーバを自分で運用するのは大変なので、CDNサービスを利用する。
CDNサービスでまず思い当たったのはAWSのCloudFrontだけど、なんだか大げさで面倒そう。 あとはCloudflareが有名なので調べたところ、手軽で無料でよさそうだったのでこれにした。
因みに、ごく最近始まったサービスのKloudsecというのも見つけたけど、まだベータが付いているし、遅いだのそもそもつながらないだの評判が悪かったのでこれは無し。
Cloudflareを利用すると、もともとだいたいこんな感じ↓だったのが、
          こんな感じ↓になる。多分。
            上のスライド中のリバースプロキシは実際にはいくつもあり、エニーキャストによってブラウザから一番近いものが使われる。
Cloudflare事始め Cloudflareの始め方はQiitaの記事を参考にした。
 Cloudflareのアカウント作成
Cloudflareのサイトに行ってSign upのリンクからメアドとパスワードを渡してアカウントを作成。</description>
    </item>
    
  </channel>
</rss>