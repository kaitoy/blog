<!DOCTYPE html>
<html lang="en-us">
    <head>
         

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6244473643910448",
    enable_page_level_ads: true
  });
</script>

<meta name="google-site-verification" content="9qs7VjxtSrYMqw5OElxCdKv_gnssSRi6acB2iYlZnGA" />
<meta property="og:url" content="https://www.kaitoy.xyz/2018/11/07/creating-react-redux-app-from-scratch-10/">
<meta property="og:site_name" content="To Be Decided">
<meta name="twitter:card" content="summary"></meta>
<link rel="canonical" href="https://www.kaitoy.xyz/2018/11/07/creating-react-redux-app-from-scratch-10/">



  <meta property="og:type" content="article">
  <meta property="og:title" content="React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その10: Code Splitting、Flow、Jest、Enzyme | To Be Decided">
  <title>React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その10: Code Splitting、Flow、Jest、Enzyme | To Be Decided</title>
  <meta property="og:description" content="ReactとReduxを学ぶために、開発環境というかプロジェクトテンプレートをスクラッチから作っている。
(最終的な成果はGitHubに置いた。)

前回はReact Routerをセットアップした。

今回は残りの要素をまとめてかたづける。">
  <meta name="description" content="ReactとReduxを学ぶために、開発環境というかプロジェクトテンプレートをスクラッチから作っている。
(最終的な成果はGitHubに置いた。)

前回はReact Routerをセットアップした。

今回は残りの要素をまとめてかたづける。">
  <meta property="og:image" content="https://www.kaitoy.xyz/images/flow-jest-enzyme.png">



        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <style>

    html body {
        font-family: 'Noto Sans JP', sans-serif;
        background-color: #fefefe;
    }

    :root {
        --accent: #fa1e44;
        --border-width:  5px ;
    }

</style>


<link rel="stylesheet" href="https://www.kaitoy.xyz/css/main.css">






<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
<script>
  var webFontConfig = {
    google: {
      families: ['Noto Sans JP:400,700:japanese'],
      active: function() {
        sessionStorage.fonts = true;
      }
    },
    timeout: 3000
  };
  WebFont.load(webFontConfig);
</script>


 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/monokai.min.css"> 


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
 


    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>

    

    <script>hljs.initHighlightingOnLoad();</script>







<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>








<script>$(document).on('click', function() { $('.collapse').collapse('hide'); })</script>
 <meta name="generator" content="Hugo 0.55.1" />
        
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-65248565-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments)};
          gtag('js', new Date());

          gtag('config', 'UA-65248565-1');
        </script>
        
    </head>

    

    <body>
         
<div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v3.2"></script>

        <nav class="navbar navbar-default navbar-fixed-top">

            <div class="container">

                <div class="navbar-header">

                    <a class="navbar-brand visible-xs" href="#">React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その10: Code Splitting、Flow、Jest、Enzyme</a>

                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                </div>

                <div class="collapse navbar-collapse">

                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="/">Home</a></li>
                            
                                <li><a href="/post/">Posts</a></li>
                            
                                <li><a href="/tags/">Tags</a></li>
                            
                                <li><a href="/about/">About</a></li>
                            
                        </ul>
                    

                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li class="navbar-icon"><a href="mailto:kaitoy@pcap4j.org"><i class="fa fa-envelope-o"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://github.com/kaitoy"><i class="fa fa-github"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://www.linkedin.com/in/kaito-yamada-8558b913a"><i class="fa fa-linkedin"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://www.facebook.com/yamada.kaito.90"><i class="fa fa-facebook-square"></i></a></li>
                            
                        </ul>
                    

                </div>

            </div>

        </nav>


<main>

    <div class="single-post">
        <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/11/07/creating-react-redux-app-from-scratch-10/">React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その10: Code Splitting、Flow、Jest、Enzyme</a></h4>
    <h5>Wed, Nov 7, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/frontend"><kbd class="item-tag">frontend</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/flow"><kbd class="item-tag">flow</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/jest"><kbd class="item-tag">jest</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/enzyme"><kbd class="item-tag">enzyme</kbd></a>
    

</div>


        <div class="cover">
            <a href="/2018/11/07/creating-react-redux-app-from-scratch-10/">
                <img src="https://www.kaitoy.xyz/images/flow-jest-enzyme.png" alt="React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その10: Code Splitting、Flow、Jest、Enzyme">
            </a>
        </div>

        
        <h4 class="page-header">Table of Contents</h4>
        <aside>
            <nav id="TableOfContents">
<ul>
<li><a href="#code-splitting">Code Splitting</a></li>
<li><a href="#flow">Flow</a>
<ul>
<li><a href="#flow導入">Flow導入</a></li>
<li><a href="#flowの型アノテーション">Flowの型アノテーション</a></li>
</ul></li>
<li><a href="#jest">Jest</a>
<ul>
<li><a href="#jestインストール">Jestインストール</a></li>
<li><a href="#jestセットアップ">Jestセットアップ</a></li>
<li><a href="#jestのテスト作成">Jestのテスト作成</a></li>
<li><a href="#スナップショットテスト">スナップショットテスト</a></li>
</ul></li>
<li><a href="#enzyme">Enzyme</a></li>
</ul>
</nav>
        </aside>
        <hr>
        

        <br> <div class="text-justify"><p><a href="https://reactjs.org/">React</a>と<a href="https://redux.js.org/">Redux</a>を学ぶために、開発環境というかプロジェクトテンプレートをスクラッチから作っている。
(最終的な成果は<a href="https://github.com/kaitoy/react-redux-scaffold">GitHub</a>に置いた。)</p>

<p><a href="https://www.kaitoy.xyz/2018/11/02/creating-react-redux-app-from-scratch-09/">前回</a>は<a href="https://reacttraining.com/react-router/">React Router</a>をセットアップした。</p>

<p>今回は残りの要素をまとめてかたづける。</p>

<p>(2018/11/21更新)</p>





<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-6244473643910448"
     data-ad-slot="1845600530"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>


<h1 id="code-splitting">Code Splitting</h1>

<p>webpackでリソースをバンドルすると、一回の通信でアプリの要素全てをロードできるので効率いいような気がするけど、アプリの規模が大きくなってくるとバンドルサイズが大きくなって、初期ロード時間が長くなり、つまり初期画面の表示に時間がかかるようになってしまう。
そもそも、いつもアプリの全画面をみるとは限らないので、いつもアプリの全要素をロードするのは無駄。</p>

<p>そんな問題に対応する技術が<a href="https://webpack.js.org/guides/code-splitting/">Code Splitting</a>。
バンドルを分割し、(理想的には)必要な時に必要な分だけロードする技術。</p>

<p>Code Splittingのやりかたはいくつかあるが、<a href="https://reactjs.org/docs/code-splitting.html#import">ダイナミックインポート</a>と<a href="https://reactjs.org/docs/code-splitting.html#reactlazy">React.lazy</a>と<a href="https://reactjs.org/docs/code-splitting.html#suspense">React Suspense</a>とwebpackの<a href="https://webpack.js.org/guides/code-splitting/#prefetching-preloading-modules">プリフェッチディレクティブ</a>を使ったやつを、フォントモジュールに適用してみる。</p>

<p><code>src/components/App.jsx</code>:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-diff" data-lang="diff"><span style="color:#d22323">-import React from &#39;react&#39;;
</span><span style="color:#d22323"></span><span style="color:#589819">+import React, { Suspense } from &#39;react&#39;;
</span><span style="color:#589819"></span> import { Route, Redirect } from &#39;react-router-dom&#39;;
 import Home from &#39;./Home&#39;;
<span style="color:#d22323">-import Fonts from &#39;../fonts&#39;;
</span><span style="color:#d22323"></span>
<span style="color:#589819">+const Fonts = React.lazy(() =&gt; import(/* webpackPrefetch: true */ &#39;../fonts&#39;));
</span><span style="color:#589819"></span>
 const App = () =&gt; (
   &lt;div&gt;
     &lt;Route exact path=&#34;/&#34; render={() =&gt; &lt;Redirect to=&#34;/home&#34; /&gt;} /&gt;
     &lt;Route exact path=&#34;/home&#34; component={Home} /&gt;
<span style="color:#d22323">-    &lt;Fonts /&gt;
</span><span style="color:#d22323"></span><span style="color:#589819">+    &lt;Suspense fallback={&lt;div /&gt;}&gt;
</span><span style="color:#589819">+      &lt;Fonts /&gt;
</span><span style="color:#589819">+    &lt;/Suspense&gt;
</span><span style="color:#589819"></span>   &lt;/div&gt;
 );

 export default App;
</code></pre></div>
<p>コード変更はこれだけ。</p>

<p><code>import()</code>がダイナミックインポートで、<a href="https://github.com/tc39/proposal-dynamic-import">ECMAScriptで現在策定中</a>の機能。
これを使えるようにするためには、Babelのプラグインを追加する必要がある。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">$ yarn add -D @babel/plugin-syntax-dynamic-import</code></pre></div>
<p><code>.babelrc</code>:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-diff" data-lang="diff"> {
   &#34;presets&#34;: [
     [
       &#34;@babel/preset-env&#34;,
       {
         &#34;useBuiltIns&#34;: &#34;usage&#34;
       }
     ],
     &#34;@babel/preset-react&#34;
   ],
<span style="color:#d22323">-  &#34;plugins&#34;: [&#34;styled-components&#34;]
</span><span style="color:#d22323"></span><span style="color:#589819">+  &#34;plugins&#34;: [&#34;styled-components&#34;, &#34;@babel/plugin-syntax-dynamic-import&#34;]
</span><span style="color:#589819"></span> }
</code></pre></div>
<p>ダイナミックインポートの設定も完了。
これでフォントモジュールはメインのバンドルとは別ファイルになり、初期画面の表示時にはロードされず、ブラウザの空き時間に非同期にロードされるようになる。</p>

<p><br></p>

<h1 id="flow">Flow</h1>

<p>Reactに限らない話だけど、JavaScriptは動的型付け言語なので、特に規模が大き目なアプリを開発するとなると保守性が悪くなりがちで辛い。
ので、できれば静的型付けでやりたい。</p>

<p>JavaScriptを静的型付けにするには、<a href="https://www.typescriptlang.org/">TypeScript</a>と<a href="https://flow.org/">Flow</a>という二つの選択肢がある。
今回、FlowがReactと同じくFacebook製なので、Reactと相性がいいかと思ってFlowを選択したけど、人気やエコシステムの充実度から見るとTypeScriptのほうがよかった気がする。
ので、Flowについてはさらっと書く。</p>

<h2 id="flow導入">Flow導入</h2>

<p>Flowは、ソースに型情報を付けて静的型チェック可能にしつつ、実行時には型情報を取り去って普通のJavaScriptとして実行できるようにする仕組み。</p>

<p>型チェックするツールは<a href="https://www.npmjs.com/package/flow-bin">flow-bin</a>パッケージで配布されていて、型情報の除去は<a href="https://www.npmjs.com/package/babel-preset-flow">@babel/preset-flow</a>を使ってBabelでできる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">$ yarn add -D flow-bin @babel/preset-flow</code></pre></div>
<p><code>.babelrc</code>:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-diff" data-lang="diff"> {
   &#34;presets&#34;: [
     [
       &#34;@babel/preset-env&#34;,
       {
         &#34;useBuiltIns&#34;: &#34;usage&#34;
       }
     ],
<span style="color:#589819">+    &#34;@babel/preset-flow&#34;,
</span><span style="color:#589819"></span>     &#34;@babel/preset-react&#34;
   ],
   &#34;plugins&#34;: [&#34;styled-components&#34;, &#34;@babel/plugin-syntax-dynamic-import&#34;]
 }
</code></pre></div>
<p>これで、<code>yarn flow</code>でFlowを実行できるようになった。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">$ yarn flow version
yarn run v1.7.0
$ C:\Users\kaitoy\Desktop\bin\pleiades\workspace\react-redux-scaffold\node_modules\.bin\flow version
Flow, a static type checker for JavaScript, version 0.77.0
Done in 0.38s.</code></pre></div>
<p><br></p>

<p>で、<code>yarn flow init</code>でFlowの設定ファイル<code>.flowconfig</code>を生成して、型チェックしたいファイルの頭に<code>// @flow</code>と書けばとりあえず機能する。</p>

<h2 id="flowの型アノテーション">Flowの型アノテーション</h2>

<p>それだけでもだいぶ型推論してくれてチェックが利くけど、<a href="https://flow.org/en/docs/types/">型アノテーション</a>を書いていくとよりいい。
ただ、アノテートするとESLintとけんかするので、それ対策として<a href="https://github.com/gajus/eslint-plugin-flowtype">eslint-plugin-flowtype</a>を入れる必要がある。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">$ yarn add -D babel-eslint eslint-plugin-flowtype</code></pre></div>
<p><code>.eslintrc.js</code>:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-diff" data-lang="diff"> module.exports = {
   env: {
     browser: true,
   },
<span style="color:#589819">+  parser: &#39;babel-eslint&#39;,
</span><span style="color:#589819"></span><span style="color:#d22323">-  extends: [&#39;airbnb&#39;, &#39;prettier&#39;],
</span><span style="color:#d22323"></span><span style="color:#589819">+  extends: [&#39;airbnb&#39;, &#39;plugin:flowtype/recommended&#39;, &#39;prettier&#39;],
</span><span style="color:#589819">+  plugins: [&#39;flowtype&#39;],
</span><span style="color:#589819"></span> };
</code></pre></div>
<p><br></p>

<p>例として、Reactコンポーネントのpropsに型を付けてみる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#999;font-style:italic">// @flow
</span><span style="color:#999;font-style:italic"></span>
<span style="color:#6ab825;font-weight:bold">import</span> React from <span style="color:#ed9d13">&#39;react&#39;</span>;
<span style="color:#6ab825;font-weight:bold">import</span> Dialog from <span style="color:#ed9d13">&#39;@material-ui/core/Dialog&#39;</span>;
<span style="color:#6ab825;font-weight:bold">import</span> DialogTitle from <span style="color:#ed9d13">&#39;@material-ui/core/DialogTitle&#39;</span>;
<span style="color:#6ab825;font-weight:bold">import</span> PropTypes from <span style="color:#ed9d13">&#39;prop-types&#39;</span>;

<span style="color:#999;font-style:italic">// Propsという型の定義
</span><span style="color:#999;font-style:italic">// text(string型)とopen(boolean型)というプロパティを持つオブジェクト
</span><span style="color:#999;font-style:italic"></span>type Props = {
  text: string,
  open: <span style="color:#6ab825;font-weight:bold">boolean</span>,
};

<span style="color:#999;font-style:italic">// Props型を受け取る関数
</span><span style="color:#999;font-style:italic"></span><span style="color:#6ab825;font-weight:bold">const</span> MyDialog = ({ text, open }: Props) =&gt; (
  &lt;<span style="color:#6ab825;font-weight:bold">Dialog</span> <span style="color:#bbb">open</span>=<span style="color:#ed9d13">{open}</span>&gt;
    &lt;<span style="color:#6ab825;font-weight:bold">DialogTitle</span>&gt;{text}&lt;/<span style="color:#6ab825;font-weight:bold">DialogTitle</span>&gt;
  &lt;/<span style="color:#6ab825;font-weight:bold">Dialog</span>&gt;
);

MyDialog.propTypes = {
  text: PropTypes.string.isRequired,
  open: PropTypes.bool.isRequired,
};

<span style="color:#6ab825;font-weight:bold">export</span> <span style="color:#6ab825;font-weight:bold">default</span> MyDialog;</code></pre></div>
<p>こんな感じで型を付けておくと、MyDialogに渡すpropsを間違った場合にFlowがエラーにしてくれる。
prop-typesによる型定義と冗長な感じに見えるけど、Flowは静的に型チェックするのに対し、prop-typesはアプリの動作中に型チェックしてくれるので、両方書いておくのがよさそう。
(Flowの型定義からprop-typesの定義を生成してくれる<a href="https://github.com/atlassian/babel-plugin-react-flow-props-to-prop-types">babel-plugin-react-flow-props-to-prop-types</a>というのがあるけど、サポートされていない型があるし、メンテされていないし、微妙。)</p>

<p><br></p>

<p>上のコードで、<code>type</code>というキーワードで型を定義しているんだけど、Reactとかの3rdパーティライブラリの型情報(<a href="https://flow.org/en/docs/libdefs/">libdef</a>と呼ばれるもの)は、ライブラリ開発者などが作ったものが公開されていて、インストールして利用できる。</p>

<p>libdefはそれようの<a href="https://github.com/flow-typed/flow-typed/tree/master/definitions">リポジトリ</a>で管理されていて、<a href="https://github.com/flow-typed/flow-typed/blob/master/README.md">flow-typed</a>で引っ張れる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">$ yarn add -D flow-typed
$ yarn flow-typed --ignoreDeps dev install</code></pre></div>
<p>これで、package.jsonに書かれている依存(devDependenciesを除く)を見て、必要なlibdefをダウンロードしてきて、プロジェクトルートの<code>flow-typed</code>というディレクトリにインストールしてくれる。</p>

<p>例えばさっきのReactコンポーネントのコードに、ReactのAPIの型の一つである<code>Node</code>を書くと以下のようになる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-diff" data-lang="diff"> // @flow

 import React from &#39;react&#39;;
<span style="color:#589819">+import type { Node } from &#39;react&#39;;
</span><span style="color:#589819"></span> import Dialog from &#39;@material-ui/core/Dialog&#39;;
 import DialogTitle from &#39;@material-ui/core/DialogTitle&#39;;
 import PropTypes from &#39;prop-types&#39;;

 // Propsという型の定義
 // text(string型)とopen(boolean型)というプロパティを持つオブジェクト
 type Props = {
   text: string,
   open: boolean,
 };

 // Props型を受け取る関数
<span style="color:#d22323">-const MyDialog = ({ text, open }: Props) =&gt; (
</span><span style="color:#d22323"></span><span style="color:#589819">+const MyDialog = ({ text, open }: Props): Node =&gt; (
</span><span style="color:#589819"></span>   &lt;Dialog open={open}&gt;
     &lt;DialogTitle&gt;{text}&lt;/DialogTitle&gt;
   &lt;/Dialog&gt;
 );

 MyDialog.propTypes = {
   text: PropTypes.string.isRequired,
   open: PropTypes.bool.isRequired,
 };

 export default MyDialog;
</code></pre></div>
<p>因みに<code>flow-typed</code>ディレクトリの中身はコミットすることが推奨されている。
なんか違和感あるんだけど…</p>

<h1 id="jest">Jest</h1>

<p>Reactプロジェクトでユニットテストを書くなら、<a href="https://jestjs.io/ja/">Jest</a>一択でいいっぽい。
JestもReactと開発元が同じFacebookで、Reactと相性がいいはずだし、Reactプロジェクト以外でもJestは人気。</p>

<p>ゼロ設定で使えるように作られていて、導入の敷居が低いのが特徴。
また多機能で、アサーション、モック、カバレージ測定辺りは組み込まれていてすぐ使える。</p>

<p>もともとは(今も?)<a href="https://jasmine.github.io/">Jasmine</a>ベースで、APIが似た感じなので、Jasmineとか<a href="https://mochajs.org/">Mocha</a>に慣れた人には特に使いやすい。</p>

<h2 id="jestインストール">Jestインストール</h2>

<p>ReactプロジェクトでJestを使うには以下のパッケージを入れる。</p>

<ul>
<li><a href="https://www.npmjs.com/package/jest">jest</a>: 本体</li>
<li><a href="https://www.npmjs.com/package/babel-jest">babel-jest</a>: BabelでトランスパイルするコードをJestでテストするためのBabelプラグイン</li>
<li><a href="https://www.npmjs.com/package/react-test-renderer">react-test-renderer</a>: ReactコンポーネントをピュアなJavaScriptオブジェクトにレンダリングするライブラリ。<a href="https://jestjs.io/docs/en/snapshot-testing">スナップショットテスト</a>などに使う。</li>
<li><a href="https://www.npmjs.com/package/babel-core/v/7.0.0-bridge.0">babel-core@^7.0.0-bridge</a>: babel-jestをBabel 7で使うためのモジュール。<a href="https://github.com/facebook/jest/tree/master/packages/babel-jest#usage">現時点では必要</a>だけど、その内いらなくなるであろう。
(2019/1/27追記: <a href="https://jestjs.io/blog/2019/01/25/jest-24-refreshing-polished-typescript-friendly">Jest v24でBabel 7にネイティブ対応して、bridgeは不要になった</a>。)</li>
</ul>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">$ yarn add -D jest babel-jest react-test-renderer babel-core@^7.0.0-bridge</code></pre></div>
<p>Jestはv23.6.0が入った。</p>

<p><br></p>

<p>npm scriptにjestを追加しておくといい。</p>

<p><code>package.json</code>:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-diff" data-lang="diff"> (前略)
   &#34;scripts&#34;: {
     &#34;format&#34;: &#34;prettier --write **/*.jsx **/*.js **/*.css&#34;,
     &#34;build&#34;: &#34;webpack --config webpack.prod.js&#34;,
<span style="color:#589819">+    &#34;test&#34;: &#34;jest&#34;,
</span><span style="color:#589819"></span>     &#34;start&#34;: &#34;webpack-dev-server --hot --config webpack.dev.js&#34;
   },
 (後略)
</code></pre></div>
<h2 id="jestセットアップ">Jestセットアップ</h2>

<p>Jestの設定ファイルである<a href="https://jestjs.io/docs/en/configuration">jest.config.js</a>をプロジェクトルートに生成する。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">$ yarn test --init</code></pre></div>
<p>プロンプトでいくつかのことを聞かれるが、「Choose the test environment that will be used for testing」に<code>jsdom</code>で答えるのがポイント。ブラウザで動かすアプリなので。</p>

<p>設定ファイルはとりあえずおおむね生成されたままでいいけど、一点、v23.4.2時点では、テスト実行時に「SecurityError: localStorage is not available for opaque origins」というエラーが出る<a href="https://github.com/facebook/jest/issues/6769#issuecomment-408352345">問題がある</a>ので、testURLを「<code>http://localhost/</code>」に設定しておく必要がある。</p>

<p><code>jest.config.js</code>:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#999;font-style:italic">// For a detailed explanation regarding each configuration property, visit:
</span><span style="color:#999;font-style:italic">// https://jestjs.io/docs/en/configuration.html
</span><span style="color:#999;font-style:italic"></span>
module.exports = {
  <span style="color:#999;font-style:italic">// All imported modules in your tests should be mocked automatically
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// automock: false,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Stop running tests after the first failure
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// bail: false,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Respect &#34;browser&#34; field in package.json when resolving modules
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// browser: false,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// The directory where Jest should store its cached dependency information
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// cacheDirectory: &#34;C:\\Users\\kaitoy\\AppData\\Local\\Temp\\jest&#34;,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Automatically clear mock calls and instances between every test
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// clearMocks: false,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Indicates whether the coverage information should be collected while executing the test
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// collectCoverage: false,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// An array of glob patterns indicating a set of files for which coverage information should be collected
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// collectCoverageFrom: null,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// The directory where Jest should output its coverage files
</span><span style="color:#999;font-style:italic"></span>  coverageDirectory: <span style="color:#ed9d13">&#39;coverage&#39;</span>,

  <span style="color:#999;font-style:italic">// An array of regexp pattern strings used to skip coverage collection
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// coveragePathIgnorePatterns: [
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">//   &#34;\\\\node_modules\\\\&#34;
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// ],
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// A list of reporter names that Jest uses when writing coverage reports
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// coverageReporters: [
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">//   &#34;json&#34;,
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">//   &#34;text&#34;,
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">//   &#34;lcov&#34;,
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">//   &#34;clover&#34;
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// ],
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// An object that configures minimum threshold enforcement for coverage results
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// coverageThreshold: null,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Make calling deprecated APIs throw helpful error messages
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// errorOnDeprecated: false,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Force coverage collection from ignored files usin a array of glob patterns
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// forceCoverageMatch: [],
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// A path to a module which exports an async function that is triggered once before all test suites
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// globalSetup: null,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// A path to a module which exports an async function that is triggered once after all test suites
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// globalTeardown: null,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// A set of global variables that need to be available in all test environments
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// globals: {},
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// An array of directory names to be searched recursively up from the requiring module&#39;s location
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// moduleDirectories: [
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">//   &#34;node_modules&#34;
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// ],
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// An array of file extensions your modules use
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// moduleFileExtensions: [
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">//   &#34;js&#34;,
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">//   &#34;json&#34;,
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">//   &#34;jsx&#34;,
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">//   &#34;node&#34;
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// ],
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// A map from regular expressions to module names that allow to stub out resources with a single module
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// moduleNameMapper: {},
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// An array of regexp pattern strings, matched against all module paths before considered &#39;visible&#39; to the module loader
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// modulePathIgnorePatterns: [],
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Activates notifications for test results
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// notify: false,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// An enum that specifies notification mode. Requires { notify: true }
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// notifyMode: &#34;always&#34;,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// A preset that is used as a base for Jest&#39;s configuration
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// preset: null,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Run tests from one or more projects
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// projects: null,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Use this configuration option to add custom reporters to Jest
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// reporters: undefined,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Automatically reset mock state between every test
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// resetMocks: false,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Reset the module registry before running each individual test
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// resetModules: false,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// A path to a custom resolver
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// resolver: null,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Automatically restore mock state between every test
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// restoreMocks: false,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// The root directory that Jest should scan for tests and modules within
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// rootDir: null,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// A list of paths to directories that Jest should use to search for files in
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// roots: [
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">//   &#34;&lt;rootDir&gt;&#34;
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// ],
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Allows you to use a custom runner instead of Jest&#39;s default test runner
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// runner: &#34;jest-runner&#34;,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// The paths to modules that run some code to configure or set up the testing environment before each test
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// setupFiles: [],
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// The path to a module that runs some code to configure or set up the testing framework before each test
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// setupTestFrameworkScriptFile: null,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// A list of paths to snapshot serializer modules Jest should use for snapshot testing
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// snapshotSerializers: [],
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// The test environment that will be used for testing
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// testEnvironment: &#34;jest-environment-jsdom&#34;,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Options that will be passed to the testEnvironment
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// testEnvironmentOptions: {},
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Adds a location field to test results
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// testLocationInResults: false,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// The glob patterns Jest uses to detect test files
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// testMatch: [
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">//   &#34;**/__tests__/**/*.js?(x)&#34;,
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">//   &#34;**/?(*.)+(spec|test).js?(x)&#34;
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// ],
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// An array of regexp pattern strings that are matched against all test paths, matched tests are skipped
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// testPathIgnorePatterns: [
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">//   &#34;\\\\node_modules\\\\&#34;
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// ],
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// The regexp pattern Jest uses to detect test files
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// testRegex: &#34;&#34;,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// This option allows the use of a custom results processor
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// testResultsProcessor: null,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// This option allows use of a custom test runner
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// testRunner: &#34;jasmine2&#34;,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// This option sets the URL for the jsdom environment. It is reflected in properties such as location.href
</span><span style="color:#999;font-style:italic"></span>  testURL: <span style="color:#ed9d13">&#39;http://localhost/&#39;</span>,

  <span style="color:#999;font-style:italic">// Setting this value to &#34;fake&#34; allows the use of fake timers for functions such as &#34;setTimeout&#34;
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// timers: &#34;real&#34;,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// A map from regular expressions to paths to transformers
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// transform: null,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// An array of regexp pattern strings that are matched against all source file paths, matched files will skip transformation
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// transformIgnorePatterns: [
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">//   &#34;\\\\node_modules\\\\&#34;
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// ],
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// An array of regexp pattern strings that are matched against all modules before the module loader will automatically return a mock for them
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// unmockedModulePathPatterns: undefined,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Indicates whether each individual test should be reported during the run
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// verbose: null,
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// An array of regexp patterns that are matched against all source file paths before re-running tests in watch mode
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// watchPathIgnorePatterns: [],
</span><span style="color:#999;font-style:italic"></span>
  <span style="color:#999;font-style:italic">// Whether to use watchman for file crawling
</span><span style="color:#999;font-style:italic"></span>  <span style="color:#999;font-style:italic">// watchman: true,
</span><span style="color:#999;font-style:italic"></span>};
</code></pre></div>
<p><br></p>

<p>また、例によって、(主にJestのグローバル変数のために、)JestのテストコードとESLintがけんかするので、ESLintをなだめるために<a href="https://www.npmjs.com/package/eslint-plugin-jest">eslint-plugin-jest</a>を入れる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">$ yarn add -D eslint-plugin-jest</code></pre></div>
<p><code>.eslintrc.js</code>:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-diff" data-lang="diff"> module.exports = {
   env: {
     browser: true,
<span style="color:#589819">+    &#39;jest/globals&#39;: true,
</span><span style="color:#589819"></span>   },
   parser: &#39;babel-eslint&#39;,
   extends: [&#39;airbnb&#39;, &#39;plugin:flowtype/recommended&#39;, &#39;prettier&#39;],
<span style="color:#d22323">-  plugins: [&#39;flowtype&#39;],
</span><span style="color:#d22323"></span><span style="color:#589819">+  plugins: [&#39;flowtype&#39;, &#39;jest&#39;],
</span><span style="color:#589819"></span> };
</code></pre></div>
<h2 id="jestのテスト作成">Jestのテスト作成</h2>

<p>Jestのテストは、<code>jest.config.js</code>の<code>testMatch</code>にマッチするJavaScriptファイルに書く。
デフォルトでは<code>__test__</code>ディレクトリ以下に置けばいい。</p>

<p>テストコードはよくある感じの<a href="https://ja.wikipedia.org/wiki/%E3%83%93%E3%83%98%E3%82%A4%E3%83%93%E3%82%A2%E9%A7%86%E5%8B%95%E9%96%8B%E7%99%BA">BDD</a>風に書けばいいと思う。</p>

<p><code>src/__tests__/reducers/reducers.test.js</code>:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#6ab825;font-weight:bold">import</span> { hoge } from <span style="color:#ed9d13">&#39;../../reducers/reducers&#39;</span>;
<span style="color:#6ab825;font-weight:bold">import</span> { hogeButtonClicked } from <span style="color:#ed9d13">&#39;../../actions/actions&#39;</span>;

<span style="color:#6ab825;font-weight:bold">const</span> initialState = {
  clicked: <span style="color:#6ab825;font-weight:bold">false</span>,
};

describe(<span style="color:#ed9d13">&#39;reducers&#39;</span>, () =&gt; {
  describe(<span style="color:#ed9d13">&#39;hoge()&#39;</span>, () =&gt; {
    test(<span style="color:#ed9d13">&#39;returns a state with clicked:true when the action is HOGE_BUTTON_CLICKED&#39;</span>, () =&gt; {
      <span style="color:#6ab825;font-weight:bold">const</span> state = hogeButtonClicked(initialState, hogeButtonClicked());
      expect(state.clicked).toBe(<span style="color:#6ab825;font-weight:bold">true</span>);
    });
  });
});
</code></pre></div>
<h2 id="スナップショットテスト">スナップショットテスト</h2>

<p>Jestの目玉のひとつは<a href="https://jestjs.io/docs/ja/snapshot-testing">スナップショットテスト</a>。
Reactコンポーネントのレンダリング結果が以前と変わってないかをテストできる。</p>

<p><code>src/__tests__/components/HogeButton.test.jsx</code>:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="color:#6ab825;font-weight:bold">import</span> React from <span style="color:#ed9d13">&#39;react&#39;</span>;
<span style="color:#6ab825;font-weight:bold">import</span> renderer from <span style="color:#ed9d13">&#39;react-test-renderer&#39;</span>;
<span style="color:#6ab825;font-weight:bold">import</span> HogeButton from <span style="color:#ed9d13">&#39;../../components/HogeButton&#39;</span>;

describe(<span style="color:#ed9d13">&#39;components&#39;</span>, () =&gt; {
  describe(<span style="color:#ed9d13">&#39;HogeButton&#39;</span>, () =&gt; {
    test(<span style="color:#ed9d13">&#39;renders correctly&#39;</span>, () =&gt; {
      <span style="color:#6ab825;font-weight:bold">const</span> tree = renderer.create(
        &lt;<span style="color:#6ab825;font-weight:bold">HogeButton</span> <span style="color:#bbb">variant</span>=<span style="color:#ed9d13">&#34;contained&#34;</span> <span style="color:#bbb">onClick</span>=<span style="color:#ed9d13">{()</span> <span style="color:#a61717;background-color:#e3d2d2">=</span>&gt; {}}&gt;
          HOGE
        &lt;/<span style="color:#6ab825;font-weight:bold">HogeButton</span>&gt;
      ).toJSON();
      expect(tree).toMatchSnapshot();
    });
  });
});</code></pre></div>
<p>このテストの初回実行時には、<code>src/__tests__/components/__snapshots__/HogeButton.test.jsx.snap</code>というスナップショットファイルが生成される。
これはテキスト形式で、以下のような人が読み解ける内容。</p>

<p><code>src/__tests__/components/__snapshots__/HogeButton.test.jsx.snap</code>:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#999;font-style:italic">// Jest Snapshot v1, https://goo.gl/fbAQLP
</span><span style="color:#999;font-style:italic"></span>
exports[<span style="color:#ed9d13">`components HogeButton renders correctly 1`</span>] = <span style="color:#ed9d13">`
</span><span style="color:#ed9d13">&lt;button
</span><span style="color:#ed9d13">  className=&#34;MuiButtonBase-root-25 MuiButton-root-1 MuiButton-contained-10 MuiButton-raised-13&#34;
</span><span style="color:#ed9d13">  disabled={false}
</span><span style="color:#ed9d13">  onBlur={[Function]}
</span><span style="color:#ed9d13">  onClick={[Function]}
</span><span style="color:#ed9d13">  onFocus={[Function]}
</span><span style="color:#ed9d13">  onKeyDown={[Function]}
</span><span style="color:#ed9d13">  onKeyUp={[Function]}
</span><span style="color:#ed9d13">  onMouseDown={[Function]}
</span><span style="color:#ed9d13">  onMouseLeave={[Function]}
</span><span style="color:#ed9d13">  onMouseUp={[Function]}
</span><span style="color:#ed9d13">  onTouchEnd={[Function]}
</span><span style="color:#ed9d13">  onTouchMove={[Function]}
</span><span style="color:#ed9d13">  onTouchStart={[Function]}
</span><span style="color:#ed9d13">  tabIndex=&#34;0&#34;
</span><span style="color:#ed9d13">  type=&#34;button&#34;
</span><span style="color:#ed9d13">&gt;
</span><span style="color:#ed9d13">  &lt;span
</span><span style="color:#ed9d13">    className=&#34;MuiButton-label-2&#34;
</span><span style="color:#ed9d13">  &gt;
</span><span style="color:#ed9d13">    HOGE
</span><span style="color:#ed9d13">  &lt;/span&gt;
</span><span style="color:#ed9d13">  &lt;span
</span><span style="color:#ed9d13">    className=&#34;MuiTouchRipple-root-28&#34;
</span><span style="color:#ed9d13">  /&gt;
</span><span style="color:#ed9d13">&lt;/button&gt;
</span><span style="color:#ed9d13">`</span>;
</code></pre></div>
<p>スナップショットファイルはコミットしてバージョン管理して、変更があったときには差分を確認する。</p>

<h1 id="enzyme">Enzyme</h1>

<p>Reactのユニットテストをよりいい感じに書けるようにしてくれるユーティリティライブラリが<a href="https://airbnb.io/enzyme/">Enzyme</a>。
Airbnb製。
Reactコンポーネントをレンダリングして、jQueryみたいなAPIで<a href="https://airbnb.io/enzyme/docs/api/selector.html">セレクタ</a>を指定したりしてエレメントを取得し、アサートするようなテストが書ける。</p>

<p>Enzymeによるレンダリングには以下の3種類があり、テスト内容によって使い分ける。</p>

<ul>
<li><a href="https://airbnb.io/enzyme/docs/api/shallow.html">Shallow Rendering</a>: 浅くレンダリングして、子コンポーネントに影響を受けないテストができる。Reactの<a href="https://reactjs.org/docs/state-and-lifecycle.html">ライフサイクルメソッド</a>も呼んでくれる。</li>
<li><a href="https://airbnb.io/enzyme/docs/api/mount.html">Full Rendering</a>: <a href="https://github.com/jsdom/jsdom">jsdom</a>などを使って完全なDOMツリーとしてレンダリングする。</li>
<li><a href="https://airbnb.io/enzyme/docs/api/render.html">Static Rendering</a>: 静的なHTMLに出力して、それをパースする。</li>
</ul>

<p><br></p>

<p>Enzymeはv3から本体とアダプタという構成になっていて、Reactのバージョンによってアダプタを使い分ける。
(<a href="https://preactjs.com/">preact</a>とか<a href="https://infernojs.org/">Inferno</a>のアダプタもある。)</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">$ yarn add -D enzyme enzyme-adapter-react-16</code></pre></div>
<p>Enzymeはv3.7.0が入った。</p>

<p><a href="https://github.com/FormidableLabs/enzyme-matchers/tree/master/packages/jest-enzyme">jest-enzyme</a>も入れるとアサーションがいい感じに書けてよりいいかもしれない。</p>

<p><br></p>

<p>Full Renderingをやってみる。</p>

<p>ContainedButtonがクリックされたとき、<code>onClick</code>に指定した関数が呼ばれることを確認するテストは以下のように書ける。</p>

<p><code>src/__tests__/components/HogeButton.test.jsx</code>:</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-diff" data-lang="diff"> import React from &#39;react&#39;;
 import renderer from &#39;react-test-renderer&#39;;
<span style="color:#589819">+import Enzyme, { mount } from &#39;enzyme&#39;;
</span><span style="color:#589819">+import Adapter from &#39;enzyme-adapter-react-16&#39;;
</span><span style="color:#589819"></span> import HogeButton from &#39;../../components/HogeButton&#39;;

<span style="color:#589819">+beforeAll(() =&gt; {
</span><span style="color:#589819">+  Enzyme.configure({ adapter: new Adapter() });
</span><span style="color:#589819">+});
</span><span style="color:#589819"></span>
 describe(&#39;components&#39;, () =&gt; {
   describe(&#39;HogeButton&#39;, () =&gt; {
     test(&#39;renders correctly&#39;, () =&gt; {
       const tree = renderer.create(
         &lt;HogeButton variant=&#34;contained&#34; onClick={() =&gt; {}}&gt;
           HOGE
         &lt;/HogeButton&gt;
       ).toJSON();
       expect(tree).toMatchSnapshot();
     });
<span style="color:#589819">+
</span><span style="color:#589819">+    test(&#34;calls the passed handler when it&#39;s clicked&#34;, () =&gt; {
</span><span style="color:#589819">+      const handler = jest.fn();
</span><span style="color:#589819">+      const wrapper = mount(&lt;HogeButton onClick={handler} /&gt;);
</span><span style="color:#589819">+      wrapper.find(&#39;button&#39;).simulate(&#39;click&#39;);
</span><span style="color:#589819">+      expect(handler).toHaveBeenCalledTimes(1);
</span><span style="color:#589819">+    });
</span><span style="color:#589819"></span>   });
 });
</code></pre></div>
<p><code>mount</code>がFull RenderingのAPIで、内部で<code>react-test-renderer</code>を使っているみたいなんだけど、<code>mount</code>のために<code>react-test-renderer</code>をimportする必要はない。</p>

<p><br></p>

<p>以上で全10回に渡るReact―Redux環境のセットアップ体験記が完結。
の予定だったけど、<a href="https://www.kaitoy.xyz/2018/11/26/creating-react-redux-app-from-scratch-11/">次回</a><a href="https://www.typescriptlang.org/">TypeScript</a>をやる。</p></div>

        <section class="share-buttons">
          <div class="share-button">
            <div class="fb-share-button" data-href="https://www.kaitoy.xyz/2018/11/07/creating-react-redux-app-from-scratch-10/" data-layout="box_count" data-size="small"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.kaitoy.xyz%2f2018%2f11%2f07%2fcreating-react-redux-app-from-scratch-10%2f&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">Share</a></div>
          </div>
          <div class="share-button">
            <a class="twitter-share-button"
              href="https://twitter.com/intent/tweet?text=React%20%2b%20Redux%e3%82%a2%e3%83%97%e3%83%aa%e3%82%b1%e3%83%bc%e3%82%b7%e3%83%a7%e3%83%b3%e3%83%97%e3%83%ad%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e3%81%ae%e3%83%86%e3%83%b3%e3%83%97%e3%83%ac%e3%83%bc%e3%83%88%e3%82%92%e4%bd%9c%e3%82%8b%20%e2%80%95%20%e3%81%9d%e3%81%ae10%3a%20Code%20Splitting%e3%80%81Flow%e3%80%81Jest%e3%80%81Enzyme&amp;url=https%3a%2f%2fwww.kaitoy.xyz%2f2018%2f11%2f07%2fcreating-react-redux-app-from-scratch-10%2f"
              data-size="large">
            Tweet</a>
          </div>
          <div class="share-button">
            <a href="http://b.hatena.ne.jp/entry/" class="hatena-bookmark-button" data-hatena-bookmark-layout="vertical-normal" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/v4/public/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a><script type="text/javascript" src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
          </div>
          <div class="share-button">
            <a data-pocket-label="pocket" data-pocket-count="vertical" class="pocket-btn" data-lang="en"></a>
            <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
          </div>
        </section>
    </div>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-6244473643910448"
         data-ad-slot="1845600530"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

    <section class="tbd-pagination">
      <div class="row">
        <div class="col-sm-6">
          <div class="prev">
            
            <a href="https://www.kaitoy.xyz/2018/11/02/creating-react-redux-app-from-scratch-09/">
              <i class="fa fa-angle-left"></i>
              React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その9: React Router
            </a>
            
          </div>
        </div>
        <div class="col-sm-6">
          <div class="next text-right">
            
            <a href="https://www.kaitoy.xyz/2018/11/26/creating-react-redux-app-from-scratch-11/">
              React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その11: FlowからTypeScriptへ移行
              <i class="fa fa-angle-right"></i>
            </a>
            
          </div>
        </div>
      </div>
    </section>

    
    

    

        <h4 class="page-header">Related</h4>

        <div class="related-links">
           <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2020/07/13/re-ducks-sagas/">Reduxのモジュールアーキテクチャパターンre-ducksの実践 ― Saga</a></h4>
    <h5>Mon, Jul 13, 2020</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/redux"><kbd class="item-tag">redux</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/re-ducks"><kbd class="item-tag">re-ducks</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/typescript"><kbd class="item-tag">typescript</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/redux-saga"><kbd class="item-tag">redux-saga</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2020/07/11/re-ducks-reducers-with-immer/">Reduxのモジュールアーキテクチャパターンre-ducksの実践 ― Reducer with immer</a></h4>
    <h5>Sat, Jul 11, 2020</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/redux"><kbd class="item-tag">redux</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/re-ducks"><kbd class="item-tag">re-ducks</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/typescript"><kbd class="item-tag">typescript</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/immer"><kbd class="item-tag">immer</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2020/07/05/re-ducks-actions/">Reduxのモジュールアーキテクチャパターンre-ducksの実践 ― Action Creator</a></h4>
    <h5>Sun, Jul 5, 2020</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/redux"><kbd class="item-tag">redux</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/re-ducks"><kbd class="item-tag">re-ducks</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/typescript"><kbd class="item-tag">typescript</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2020/05/27/re-ducks/">Reduxのモジュールアーキテクチャパターン ― re-ducks</a></h4>
    <h5>Wed, May 27, 2020</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/redux"><kbd class="item-tag">redux</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/re-ducks"><kbd class="item-tag">re-ducks</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2020/05/05/atomic-design/">コンポーネント設計におけるAtomicデザイン</a></h4>
    <h5>Tue, May 5, 2020</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/frontend"><kbd class="item-tag">frontend</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/atomic-design"><kbd class="item-tag">atomic-design</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2020/04/27/update-react-redux-scaffold-2020-02/">React &#43; Reduxアプリケーションプロジェクトのテンプレートを2020年版にアップデート ― その2: パスエイリアス設定</a></h4>
    <h5>Mon, Apr 27, 2020</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/redux"><kbd class="item-tag">redux</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/frontend"><kbd class="item-tag">frontend</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/webpack"><kbd class="item-tag">webpack</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/eslint"><kbd class="item-tag">eslint</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/babel"><kbd class="item-tag">babel</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/typescript"><kbd class="item-tag">typescript</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2020/04/26/update-react-redux-scaffold-2020-01/">React &#43; Reduxアプリケーションプロジェクトのテンプレートを2020年版にアップデート ― その1: ライブラリ等の更新</a></h4>
    <h5>Sun, Apr 26, 2020</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/frontend"><kbd class="item-tag">frontend</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/webpack"><kbd class="item-tag">webpack</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/babel"><kbd class="item-tag">babel</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/eslint"><kbd class="item-tag">eslint</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/prettier"><kbd class="item-tag">prettier</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/styled-components"><kbd class="item-tag">styled-components</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/material-ui"><kbd class="item-tag">material-ui</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/redux"><kbd class="item-tag">redux</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/redux-saga"><kbd class="item-tag">redux-saga</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/react-router"><kbd class="item-tag">react-router</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/jest"><kbd class="item-tag">jest</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/react-testing-library"><kbd class="item-tag">react-testing-library</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/typescript"><kbd class="item-tag">typescript</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/11/26/creating-react-redux-app-from-scratch-11/">React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その11: FlowからTypeScriptへ移行</a></h4>
    <h5>Mon, Nov 26, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/frontend"><kbd class="item-tag">frontend</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/typescript"><kbd class="item-tag">typescript</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/11/02/creating-react-redux-app-from-scratch-09/">React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その9: React Router</a></h4>
    <h5>Fri, Nov 2, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/frontend"><kbd class="item-tag">frontend</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/redux"><kbd class="item-tag">redux</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/react-router"><kbd class="item-tag">react-router</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/10/07/creating-react-redux-app-from-scratch-08/">React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その8: Redux-Saga</a></h4>
    <h5>Sun, Oct 7, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/frontend"><kbd class="item-tag">frontend</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/redux"><kbd class="item-tag">redux</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/redux-saga"><kbd class="item-tag">redux-saga</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/10/01/creating-react-redux-app-from-scratch-07/">React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その7: React Redux</a></h4>
    <h5>Mon, Oct 1, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/frontend"><kbd class="item-tag">frontend</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/redux"><kbd class="item-tag">redux</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/09/26/creating-react-redux-app-from-scratch-06/">React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その6: Redux</a></h4>
    <h5>Wed, Sep 26, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/frontend"><kbd class="item-tag">frontend</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/redux"><kbd class="item-tag">redux</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/09/06/creating-react-redux-app-from-scratch-05/">React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その5: Material-UIとWebフォント</a></h4>
    <h5>Thu, Sep 6, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/frontend"><kbd class="item-tag">frontend</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/material-ui"><kbd class="item-tag">material-ui</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/08/29/creating-react-redux-app-from-scratch-04/">React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その4: CSS ModulesとPostCSSとstylelintとstyled-components</a></h4>
    <h5>Wed, Aug 29, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/frontend"><kbd class="item-tag">frontend</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/postcss"><kbd class="item-tag">postcss</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/stylelint"><kbd class="item-tag">stylelint</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/css-modules"><kbd class="item-tag">css-modules</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/styled-components"><kbd class="item-tag">styled-components</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/08/23/creating-react-redux-app-from-scratch-03/">React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その3: PrettierとESLint</a></h4>
    <h5>Thu, Aug 23, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/frontend"><kbd class="item-tag">frontend</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/eslint"><kbd class="item-tag">eslint</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/prettier"><kbd class="item-tag">prettier</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/08/22/creating-react-redux-app-from-scratch-02/">React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その2: React</a></h4>
    <h5>Wed, Aug 22, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/frontend"><kbd class="item-tag">frontend</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/08/19/creating-react-redux-app-from-scratch-01/">React &#43; Reduxアプリケーションプロジェクトのテンプレートを作る ― その1: Node.jsとYarnとBabelとwebpack</a></h4>
    <h5>Sun, Aug 19, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/frontend"><kbd class="item-tag">frontend</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/webpack"><kbd class="item-tag">webpack</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/babel"><kbd class="item-tag">babel</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/08/16/chronicle-of-frontend-2018/">Webアプリケーションフロントエンド年代記 - 2018年夏編</a></h4>
    <h5>Thu, Aug 16, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/frontend"><kbd class="item-tag">frontend</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2017/08/25/if-youre-a-startup-you-should-not-use-react-reflecting-on-the-bsd-patents-license/">スタートアップはReactを使うべきではない (BSD &#43; patentsライセンスを考慮して) — もし、いつか大企業に買収されたいと望むなら</a></h4>
    <h5>Fri, Aug 25, 2017</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/license"><kbd class="item-tag">license</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2015/12/21/hello-react/">ReactをAtomパッケージ開発に使ってみた</a></h4>
    <h5>Mon, Dec 21, 2015</h5>
    
    <a href="https://www.kaitoy.xyz/tags/react"><kbd class="item-tag">react</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/atom"><kbd class="item-tag">atom</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/javascript"><kbd class="item-tag">javascript</kbd></a>
    

</div>
 
        </div>
    

    

        <h4 class="page-header">Comments</h4>

        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "kaitoy-tobedecided" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    

</main>

        <footer>

            <p class="copyright text-muted">&copy; 2015 Kaito Yamada. Powered by <a href="https://gohugo.io">Hugo</a> and <a href="https://github.com/calintat/minimal">Minimal</a></p>

        </footer>

        <script>window.twttr = (function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0],
            t = window.twttr || {};
          if (d.getElementById(id)) return t;
          js = d.createElement(s);
          js.id = id;
          js.src = "https://platform.twitter.com/widgets.js";
          fjs.parentNode.insertBefore(js, fjs);

          t._e = [];
          t.ready = function(f) {
            t._e.push(f);
          };

          return t;
        }(document, "script", "twitter-wjs"));</script>

    </body>

</html>

