<!DOCTYPE html>
<html lang="en-us">
    <head>
        <script data-ad-client="ca-pub-6244473643910448" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<meta name="google-site-verification" content="9qs7VjxtSrYMqw5OElxCdKv_gnssSRi6acB2iYlZnGA" />
<meta property="og:url" content="https://www.kaitoy.xyz/2017/10/11/goslings-on-kubernetes-cont/">
<meta property="og:site_name" content="To Be Decided">
<meta name="twitter:card" content="summary"></meta>
<link rel="canonical" href="https://www.kaitoy.xyz/2017/10/11/goslings-on-kubernetes-cont/">



  <meta property="og:type" content="article">
  <meta property="og:title" content="Kubernetesのチュートリアルをやる | To Be Decided">
  <title>Kubernetesのチュートリアルをやる | To Be Decided</title>
  <meta property="og:description" content="「Kubernetes 1.8が出たので、Minikubeを触ってみる」の続き。
Minikubeのセットアップまではできたので、Kubernetes Basicsというチュートリアルをやりながら、Goslingsをデプロイする。">
  <meta name="description" content="「Kubernetes 1.8が出たので、Minikubeを触ってみる」の続き。
Minikubeのセットアップまではできたので、Kubernetes Basicsというチュートリアルをやりながら、Goslingsをデプロイする。">
  <meta property="og:image" content="https://www.kaitoy.xyz/images/kubernetes_goslings.png">



        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <style>

    html body {
        font-family: 'Noto Sans JP', sans-serif;
        background-color: #fefefe;
    }

    :root {
        --accent: #fa1e44;
        --border-width:  5px ;
    }

</style>


<link rel="stylesheet" href="https://www.kaitoy.xyz/css/main.css">






<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
<script>
  var webFontConfig = {
    google: {
      families: ['Noto Sans JP:400,700:japanese'],
      active: function() {
        sessionStorage.fonts = true;
      }
    },
    timeout: 3000
  };
  WebFont.load(webFontConfig);
</script>


 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/monokai.min.css"> 


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
 


    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>

    

    <script>hljs.initHighlightingOnLoad();</script>







<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>








<script>$(document).on('click', function() { $('.collapse').collapse('hide'); })</script>
 <meta name="generator" content="Hugo 0.55.1" />
        
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-65248565-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments)};
          gtag('js', new Date());

          gtag('config', 'UA-65248565-1');
        </script>
        
    </head>

    

    <body>
         
<div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v9.0" nonce="WjvU2Pqv"></script>

        <nav class="navbar navbar-default navbar-fixed-top">

            <div class="container">

                <div class="navbar-header">

                    <a class="navbar-brand visible-xs" href="#">Kubernetesのチュートリアルをやる</a>

                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                </div>

                <div class="collapse navbar-collapse">

                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="/">Home</a></li>
                            
                                <li><a href="/post/">Posts</a></li>
                            
                                <li><a href="/tags/">Tags</a></li>
                            
                                <li><a href="/about/">About</a></li>
                            
                        </ul>
                    

                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li class="navbar-icon"><a href="mailto:kaitoy@pcap4j.org"><i class="fa fa-envelope-o"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://github.com/kaitoy"><i class="fa fa-github"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://www.linkedin.com/in/kaito-yamada-8558b913a"><i class="fa fa-linkedin"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://www.facebook.com/yamada.kaito.90"><i class="fa fa-facebook-square"></i></a></li>
                            
                        </ul>
                    

                </div>

            </div>

        </nav>


<main>

    <div class="single-post">
        <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2017/10/11/goslings-on-kubernetes-cont/">Kubernetesのチュートリアルをやる</a></h4>
    <h5>Wed, Oct 11, 2017</h5>
    
    <a href="https://www.kaitoy.xyz/tags/goslings"><kbd class="item-tag">goslings</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/minikube"><kbd class="item-tag">minikube</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    

</div>


        <div class="cover">
            <a href="/2017/10/11/goslings-on-kubernetes-cont/">
                <img src="https://www.kaitoy.xyz/images/kubernetes_goslings.png" alt="Kubernetesのチュートリアルをやる">
            </a>
        </div>

        
        <h4 class="page-header">Table of Contents</h4>
        <aside>
            <nav id="TableOfContents">
<ul>
<li><a href="#kubernetes-basics-概要">Kubernetes Basics - 概要</a></li>
<li><a href="#kubernetes-basics-モジュール-1-kubernetesクラスタを作る">Kubernetes Basics - モジュール 1: Kubernetesクラスタを作る</a></li>
<li><a href="#kubernetes-basics-モジュール-2-アプリをデプロイする">Kubernetes Basics - モジュール 2: アプリをデプロイする</a></li>
<li><a href="#kubernetes-basics-モジュール-3-アプリを調査する">Kubernetes Basics - モジュール 3: アプリを調査する</a></li>
<li><a href="#kubernetes-basics-モジュール-4-アプリを公開する">Kubernetes Basics - モジュール 4: アプリを公開する</a></li>
<li><a href="#kubernetes-basics-モジュール-5-アプリをスケールする">Kubernetes Basics - モジュール 5: アプリをスケールする</a></li>
<li><a href="#kubernetes-basics-モジュール-6-アプリをアップデートする">Kubernetes Basics - モジュール 6: アプリをアップデートする</a></li>
<li><a href="#番外編1-3つのオブジェクト管理手法">番外編1 - 3つのオブジェクト管理手法</a></li>
<li><a href="#番外編2-命令的オブジェクト設定">番外編2 - 命令的オブジェクト設定</a></li>
</ul>
</nav>
        </aside>
        <hr>
        

        <br> <div class="text-justify"><p>「<a href="https://www.kaitoy.xyz/2017/10/10/goslings-on-kubernetes/">Kubernetes 1.8が出たので、Minikubeを触ってみる</a>」の続き。
Minikubeのセットアップまではできたので、<a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/">Kubernetes Basics</a>というチュートリアルをやりながら、<a href="https://kaitoy.github.io/goslings/">Goslings</a>をデプロイする。</p>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-6244473643910448"
     data-ad-slot="1845600530"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>


<h1 id="kubernetes-basics-概要">Kubernetes Basics - 概要</h1>

<p>Kubernetes Basicsは、公式のチュートリアルで、Kubernetesクラスタのオーケストレーションの基本を学ぶことができるもの。
以下の6つのモジュールからなる。</p>

<ol>
<li>Kubernetesクラスタを作る</li>
<li>アプリをデプロイする</li>
<li>アプリを調査する</li>
<li>アプリを公開する</li>
<li>アプリをスケールする</li>
<li>アプリをアップデートする</li>
</ol>

<p>チュートリアルで使うのは<a href="https://github.com/kubernetes/minikube">Minikube</a>だけど、自分でセットアップする必要はない。
<a href="https://www.katacoda.com/">Katacoda</a>という、ブラウザ上でIT技術を学べるプラットフォームがあり、Kubernetes Basicsはそれを利用して、ブラウザ上のターミナルからホステッドMinikubeを操作できるようにしている。</p>

<p>が、<a href="https://www.kaitoy.xyz/2017/10/10/goslings-on-kubernetes/">前回の記事</a>で自PC上にMinikubeをセットアップしたので、そちらを使うことにする。</p>

<p><br></p>

<h1 id="kubernetes-basics-モジュール-1-kubernetesクラスタを作る">Kubernetes Basics - モジュール 1: Kubernetesクラスタを作る</h1>

<p>Minikubeを起動してkubectlでクラスタの状態をみるだけのモジュール。</p>

<p>これは<a href="https://www.kaitoy.xyz/2017/10/10/goslings-on-kubernetes/">前回の記事</a>でカバーしている。</p>

<h1 id="kubernetes-basics-モジュール-2-アプリをデプロイする">Kubernetes Basics - モジュール 2: アプリをデプロイする</h1>

<p>アプリ(i.e. コンテナ)をデプロイするにはDeploymentオブジェクトを作る。
MasterはDeploymentのspecに従って各ノードにアプリのインスタンスをスケジューリングする。
Deploymentは、アプリが落ちたら再起動してくれる、つまりself-healingも実現する。</p>

<p>Deploymentオブジェクトを作るコマンドは<code>kubectl run &lt;オブジェクト名&gt; --image=&lt;Dockerイメージ名&gt;</code>。
Goslingsをこれでデプロイする。</p>

<p>Goslingsコンテナは3つの引数を受け取り、指定したポートでWebサーバを起動する。
<code>--port</code>オプションでそのポートをexposeするようにして、<code>--</code>の後にコンテナに渡す引数を記述する。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl run goslings --image=kaitoy/goslings:latest --port 8080 -- 8080 /tmp https://github.com/kaitoy/</span>
deployment <span style="color:#ed9d13">&#34;goslings&#34;</span> created

C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl get deployment</span>
NAME       DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE
goslings   1         1         1            1           27s</code></pre></div>
<p>デプロイできた。
裏でPodも作られていて、アプリが起動されている。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl get pods</span>
NAME                        READY     STATUS              RESTARTS   AGE
goslings-1210510689-6w5tf   0/1       ContainerCreating   0          1m</code></pre></div>
<p>(<code>kubectl get</code>に指定するのは、省略形の<code>deploy</code>とか<code>po</code>でもいい。)</p>

<p><br></p>

<p>Podは隔離されたネットワークで動くので、そのままではPod同士は通信できるけど、外からはアクセスできない。
kubectlでプロキシを作ってやることで、外からアクセスできるようになる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl proxy</span>
Starting to serve on 127.0.0.1:8001</code></pre></div>
<p>これで、kube-apiserverへのプロキシがローカルホストで起動した。
この状態で<code>http://localhost:8001</code>を開くと、kube-apiserverのAPI一覧が見れる。
例えば、<code>http://localhost:8001/version</code>にアクセスすると、以下のJSONデータが返ってくる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#6ab825;font-weight:bold">&#34;major&#34;</span>: <span style="color:#ed9d13">&#34;1&#34;</span>,
  <span style="color:#6ab825;font-weight:bold">&#34;minor&#34;</span>: <span style="color:#ed9d13">&#34;7&#34;</span>,
  <span style="color:#6ab825;font-weight:bold">&#34;gitVersion&#34;</span>: <span style="color:#ed9d13">&#34;v1.7.0&#34;</span>,
  <span style="color:#6ab825;font-weight:bold">&#34;gitCommit&#34;</span>: <span style="color:#ed9d13">&#34;d3ada0119e776222f11ec7945e6d860061339aad&#34;</span>,
  <span style="color:#6ab825;font-weight:bold">&#34;gitTreeState&#34;</span>: <span style="color:#ed9d13">&#34;dirty&#34;</span>,
  <span style="color:#6ab825;font-weight:bold">&#34;buildDate&#34;</span>: <span style="color:#ed9d13">&#34;2017-10-04T09:25:40Z&#34;</span>,
  <span style="color:#6ab825;font-weight:bold">&#34;goVersion&#34;</span>: <span style="color:#ed9d13">&#34;go1.8.3&#34;</span>,
  <span style="color:#6ab825;font-weight:bold">&#34;compiler&#34;</span>: <span style="color:#ed9d13">&#34;gc&#34;</span>,
  <span style="color:#6ab825;font-weight:bold">&#34;platform&#34;</span>: <span style="color:#ed9d13">&#34;linux/amd64&#34;</span>
}</code></pre></div>
<p><br></p>

<p>各Podへも以下のURLでアクセスできる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-plain" data-lang="plain">http://localhost:8001/api/v1/proxy/namespaces/default/pods/&lt;Pod名&gt;/</code></pre></div>
<p>Pod名の部分は<code>kubectl get</code>で確認できる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl get po</span>
NAME                        READY     STATUS    RESTARTS   AGE
goslings-1210510689-6w5tf   1/1       Running   0          24m</code></pre></div>
<p>実際に、<code>http://localhost:8001/api/v1/proxy/namespaces/default/pods/goslings-1210510689-6w5tf/</code>をブラウザで開いたら、GoslingsのGUIが出た。
ヒュー。</p>

<p><img src="/images/goslings-on-kubernetes-cont/goslings-proxy.png" alt="goslings-proxy" /></p>

<h1 id="kubernetes-basics-モジュール-3-アプリを調査する">Kubernetes Basics - モジュール 3: アプリを調査する</h1>

<p>以下のコマンドで、アプリの状態を調査するモジュール。</p>

<ul>
<li>kubectl get: リソースをリスト表示する。</li>
<li>kubectl describe: リソースの詳細情報を表示する。</li>
<li>kubectl logs: コンテナのログを表示する。<code>docker logs</code>的な。</li>
<li>kubectl exec: コンテナ内でコマンドを実行する。<code>docker exec</code>的な。</li>
</ul>

<p><br></p>

<p><code>kubectl get</code>はさんざんやったので飛ばして、<code>kubectl describe</code>してみる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl describe po</span>
Name:           goslings-1210510689-6w5tf
Namespace:      default
Node:           minikube/192.168.99.100
<span style="color:#6ab825;font-weight:bold">Start</span> Time:     Tue, 10 Oct 2017 21:51<span style="color:#999;font-style:italic">:48 +0900</span>
Labels:         pod-template-hash=1210510689
                run=goslings
Annotations:    kubernetes.io/created-by={<span style="color:#ed9d13">&#34;kind&#34;</span>:&#34;SerializedReference&#34;<span style="color:#999;font-style:italic">,&#34;apiVersion&#34;:&#34;v1&#34;,&#34;reference&#34;:{&#34;kind&#34;:&#34;ReplicaSet&#34;,&#34;namespace&#34;:&#34;default&#34;,&#34;name&#34;:&#34;goslings-1210510689&#34;,&#34;uid&#34;:&#34;c74b6518-adb9-11e7-88a0-08002798178d...</span>
Status:         Running
IP:             172.17.0.2
Created By:     ReplicaSet/goslings-1210510689
Controlled By:  ReplicaSet/goslings-1210510689
Containers:
  goslings:
    Container ID:       docker://ce90460886c9555f7748bf59e8d9892f05c05020e7841154ee85713d6d9b0c2d
    Image:              kaitoy/goslings:latest
    Image ID:           docker-pullable://kaitoy/goslings@sha256:a587e3c5f202cdaa6d4d5a9c4f6a01ba6f4782e00277c3a18c77dd034daa0109
    Port:               8080/TCP
    Args:
      8080
      C:/Users/kaitoy/AppData/Local/Temp
    State:              Running
      Started:          Tue, 10 Oct 2017 21:55<span style="color:#999;font-style:italic">:54 +0900</span>
    Ready:              True
    Restart Count:      0
    Environment:        &lt;none&gt;
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-cqq59 (ro)
Conditions:
  <span style="color:#6ab825;font-weight:bold">Type</span>          Status
  Initialized   True
  Ready         True
  PodScheduled  True
Volumes:
  default-token-cqq59:
    <span style="color:#6ab825;font-weight:bold">Type</span>:       Secret<span style="color:#999;font-style:italic"> (a volume populated by a Secret)</span>
    SecretName: default-token-cqq59
    Optional:   false
QoS Class:      BestEffort
Node-Selectors: &lt;none&gt;
Tolerations:    &lt;none&gt;
Events:
  FirstSeen     LastSeen        Count   From                    SubObjectPath                   Type            Reason
                Message
  ---------     --------        -----   ----                    -------------                   --------        ------
                -------
  45m           45m             1       default-scheduler                                       Normal          Scheduled               Successfully assigned goslings-1210510689-6w5tf to minikube
  45m           45m             1       kubelet, minikube                                       Normal          SuccessfulMountVolume   MountVolume.SetUp succeeded for volume <span style="color:#ed9d13">&#34;default-token-cqq59&#34;</span>
  45m           45m             1       kubelet, minikube       spec.containers{goslings}       Normal          Pulling
                pulling image <span style="color:#ed9d13">&#34;kaitoy/goslings:latest&#34;</span>
  41m           41m             1       kubelet, minikube       spec.containers{goslings}       Normal          Pulled
                Successfully pulled image <span style="color:#ed9d13">&#34;kaitoy/goslings:latest&#34;</span>
  41m           41m             1       kubelet, minikube       spec.containers{goslings}       Normal          Created
                Created container
  41m           41m             1       kubelet, minikube       spec.containers{goslings}       Normal          Started
                Started container</code></pre></div>
<p>Podの詳細な情報が出た。
EventsのとこにKubernetesの頑張りが見えて面白い。</p>

<p><br></p>

<p>次は<code>kubectl logs</code>。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl logs goslings-1210510689-6w5tf</span>

  .   ____          _            __ _ _
 /\\ / ___&#39;_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | &#39;_ | &#39;_| | &#39;_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) <span style="color:#999;font-style:italic">) ) )</span>
  &#39;  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :<span style="color:#999;font-style:italic">: Spring Boot ::        (v1.4.3.RELEASE)</span>

2017-10-10 12:56<span style="color:#999;font-style:italic">:02.498  INFO 6 --- [           main] c.g.kaitoy.goslings.server.Application   : Starting Application on goslings-1210510689-6w5tf with PID 6 (/usr/local/src/goslings/goslings-server/build/libs/goslings-server-0.0.1.jar started by root in /usr/local/src/goslings)</span>
(snip)</code></pre></div>
<p>Goslingsは<a href="https://projects.spring.io/spring-boot/">Spring Boot</a>でできてるので、そのログが出てる。</p>

<p><br></p>

<p>次は<code>kubectl exec</code>を試す。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl exec goslings-1210510689-6w5tf env</span>
<span style="color:#6ab825;font-weight:bold">PATH</span>=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
HOSTNAME=goslings-1210510689-6w5tf
KUBERNETES_PORT_443_TCP=tcp://10.0.0.1:443
KUBERNETES_PORT_443_TCP_PROTO=tcp
KUBERNETES_PORT_443_TCP_PORT=443
KUBERNETES_PORT_443_TCP_ADDR=10.0.0.1
KUBERNETES_SERVICE_HOST=10.0.0.1
KUBERNETES_SERVICE_PORT=443
KUBERNETES_SERVICE_PORT_HTTPS=443
KUBERNETES_PORT=tcp://10.0.0.1:443
LANG=C.UTF-8
JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
JAVA_VERSION=8u111
JAVA_DEBIAN_VERSION=8u111-b14-2~bpo8+1
CA_CERTIFICATES_JAVA_VERSION=20140324
HOME=/root</code></pre></div>
<p><code>env</code>コマンドを実行し、コンテナ内の環境変数一覧を出せた。
Kubernetes関係の変数が定義されていることが分かる。</p>

<p><code>docker exec</code>と同様に、<code>-it</code>オプションを付ければ、コンテナ内に「入る」こともできる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl exec -it goslings-1210510689-6w5tf sh</span>
# ls
Dockerfile  _config.yml  build.log     goslings-server  gradle.properties  gradlew.bat
# exit

C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;</span></code></pre></div>
<h1 id="kubernetes-basics-モジュール-4-アプリを公開する">Kubernetes Basics - モジュール 4: アプリを公開する</h1>

<p>Serviceオブジェクト扱うモジュール。</p>

<p>例えば、以下のような状況にあるとする。</p>

<ul>
<li>PodがあるNodeで動いていたんだけど、そのNodeが死んだので、Kubernetesが別のNodeにPodを起動しなおしてくれた。</li>
<li>同じコンテナイメージを3つのPodで動かして、負荷分散させたい。</li>
</ul>

<p>こういう場合、KubernetesはPod毎に固有のIPアドレスを割り当てるので、Podにアクセスするユーザはアクセス先が不安定でめんどいことになる。
この問題を解決してくれるのがServiceで、こいつは、Podを抽象化して、安定したIPアドレスを公開してくれる。
しかもそれはクラスタ外からアクセスできる。</p>

<p>PodとServiceの紐づけには、<a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">ラベルとセレクタ</a>というものが使われる。</p>

<p><br></p>

<p>Serviceの情報はDeploymentとかと同様に<code>kubectl get</code>で見れる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl get svc</span>
NAME         CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
kubernetes   10.0.0.1     &lt;none&gt;        443/TCP   1d</code></pre></div>
<p>ここで出ているkubernetesというのは、Minikubeがデフォルトで作るService。</p>

<p><br></p>

<p>Serviceオブジェクトは、<code>kubectl expose</code>で作ることができる。</p>

<p><code>goslings</code>という名のDeploymentに対し、NodePortのServiceを作り、コンテナの8080ポートを公開するコマンドは以下のようになる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl expose deploy/goslings --type=NodePort --port 8080</span>
service <span style="color:#ed9d13">&#34;goslings&#34;</span> exposed

C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl get services</span>
NAME         CLUSTER-IP   EXTERNAL-IP   PORT(S)          AGE
goslings     10.0.0.69    &lt;nodes&gt;       8080:32406/TCP   11s
kubernetes   10.0.0.1     &lt;none&gt;        443/TCP          1d

C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl describe services/goslings</span>
Name:                   goslings
Namespace:              default
Labels:                 run=goslings
Annotations:            &lt;none&gt;
Selector:               run=goslings
<span style="color:#6ab825;font-weight:bold">Type</span>:                   NodePort
IP:                     10.0.0.69
Port:                   &lt;unset&gt; 8080/TCP
NodePort:               &lt;unset&gt; 32406/TCP
Endpoints:              172.17.0.2:8080
Session Affinity:       None
Events:                 &lt;none&gt;</code></pre></div>
<p>goslingsという名前のServiceができた。
上記<code>kubectl describe</code>の出力のNodePortのとこに書いてあるのが外部にさらされたポート。</p>

<p><code>minikube ip</code>を実行すると、</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;minikube ip</span>
192.168.99.100</code></pre></div>
<p>MinikubeのVMのIPアドレスも分かるので、NodePortのポートと合わせて、<code>http://192.168.99.100:32406</code>にブラウザでアクセスしたら、GoslingsのGUI見れた。
ヒュー。</p>

<p><img src="/images/goslings-on-kubernetes-cont/goslings-service.png" alt="goslings-service" /></p>

<p><br></p>

<p>ところで、上記<code>kubectl describe</code>の出力を見ると、特に指定はしなかったが、Podに<code>run=goslings</code>というLabelが付いていることが分かる。
Serviceのdescribeを見ると、</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl describe svc goslings</span>
Name:                   goslings
Namespace:              default
Labels:                 run=goslings
Annotations:            &lt;none&gt;
Selector:               run=goslings
<span style="color:#6ab825;font-weight:bold">Type</span>:                   NodePort
IP:                     10.0.0.69
Port:                   &lt;unset&gt; 8080/TCP
NodePort:               &lt;unset&gt; 32406/TCP
Endpoints:              172.17.0.2:8080
Session Affinity:       None
Events:                 &lt;none&gt;</code></pre></div>
<p><code>run=goslings</code>というSelectorがServiceに紐づいている。
つまり、ServiceとPodが、<code>run=goslings</code>で紐づいているというわけだ。</p>

<p><br></p>

<p>Labelはクエリ時のフィルタとかにも使える。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl get po -l run=goslings</span>
NAME                        READY     STATUS    RESTARTS   AGE
goslings-1210510689-6w5tf   1/1       Running   0          1h</code></pre></div>
<p>後からラベル付けることもできる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl label pod goslings-1210510689-6w5tf ver=1.2.3</span>
pod <span style="color:#ed9d13">&#34;goslings-1210510689-6w5tf&#34;</span> labeled</code></pre></div>
<h1 id="kubernetes-basics-モジュール-5-アプリをスケールする">Kubernetes Basics - モジュール 5: アプリをスケールする</h1>

<p>アプリのスケールアウト・スケールインを学ぶモジュール。</p>

<p>Deploymentの定義でPodのレプリカ数を変えると、その数に合わせてKubernetesがPodを起動したり止めたりしてくれてスケールできる仕組み。
レプリカを作っておくとローリングアップデートできるのも利点。
<a href="http://kubernetes.io/docs/user-guide/horizontal-pod-autoscaling/">オートスケール機能</a>もあるけど、それはチュートリアルでは扱われない。</p>

<p>複数のPodで負荷分散するということなので、Serviceでロードバランシングするのが前提。</p>

<p><br></p>

<p>現在のDeploymentの状態をみる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl get deploy</span>
NAME       DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE
goslings   1         1         1            1           1h</code></pre></div>
<p>Podのレプリカ数は、期待してる(DESIRED)のが1で、今(CURRENT)も1。</p>

<p>スケールアウトするには、<code>kubectl scale</code>コマンドでレプリカ数を増やしてやる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl scale deploy/goslings --replicas=3</span>
deployment <span style="color:#ed9d13">&#34;goslings&#34;</span> scaled

C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl get deploy</span>
NAME       DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE
goslings   3         3         3            3           1h

C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl get po -o wide</span>
NAME                       READY     STATUS    RESTARTS   AGE       IP           NODE
goslings-442066424-jn1lw   1/1       Running   0          1h        172.17.0.2   minikube
goslings-442066424-rdw4k   1/1       Running   0          1m        172.17.0.3   minikube
goslings-442066424-rwwjw   1/1       Running   0          1m        172.17.0.4   minikube</code></pre></div>
<p>レプリカが3個になった。</p>

<p>スケールインするには、<code>kubectl scale</code>コマンドでレプリカ数を減らす。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl scale deploy/goslings --replicas=2</span>
deployment <span style="color:#ed9d13">&#34;goslings&#34;</span> scaled

C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl get po</span>
NAME                       READY     STATUS        RESTARTS   AGE
goslings-442066424-0mv4x   1/1       Terminating   0          1m
goslings-442066424-34h1f   1/1       Running       0          1m
goslings-442066424-kmn3p   1/1       Running       0          17m

C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl get po</span>
NAME                       READY     STATUS    RESTARTS   AGE
goslings-442066424-34h1f   1/1       Running   0          1m
goslings-442066424-kmn3p   1/1       Running   0          17m</code></pre></div>
<p><code>kubectl scale</code>直後の<code>kubectl get po</code>では、一つのPodを停止している最中の様子が見えていて、再度の<code>kubectl get po</code>ではレプリカが2個になったのが確認できた。</p>

<p>この状態がKubernetes Basicsで作るクラスタの最終形で、図にすると以下の感じ。</p>

<p><img src="/images/goslings-on-kubernetes-cont/objects.png" alt="objects" /></p>

<h1 id="kubernetes-basics-モジュール-6-アプリをアップデートする">Kubernetes Basics - モジュール 6: アプリをアップデートする</h1>

<p>デプロイしたアプリのアップデート(i.e. コンテナイメージの変更)を学ぶモジュール。</p>

<p>Deploymentの定義をいじってコンテナイメージを変えてやると、その中のPodを新しいイメージで順次(デフォルトだと一つ一つ)起動しなおしてくれる。</p>

<p>アプリのアップデートはバージョン管理もされて、ロールバックもできる。</p>

<p><br></p>

<p>コンテナイメージを変更するには、<code>kubectl set image</code>コマンドを使う。
<code>goslings</code>という名のDeployment内の、<code>goslings</code>という名のContainerのイメージを<code>kaitoy/goslings:hoge</code>に変更するコマンドは以下。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl set image deploy/goslings goslings=kaitoy/goslings:hoge</span>
deployment <span style="color:#ed9d13">&#34;goslings&#34;</span> image updated</code></pre></div>
<p>実際には<code>kaitoy/goslings:hoge</code>というイメージはないので、イメージのPullに失敗したというエラー(ErrImagePull)になる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl get po</span>
NAME                       READY     STATUS         RESTARTS   AGE
goslings-274047280-jxmmh   0/1       ErrImagePull   0          9s
goslings-274047280-rgg2v   0/1       ErrImagePull   0          8s
goslings-442066424-34h1f   1/1       Terminating    0          1h
goslings-442066424-kmn3p   1/1       Running        0          1h</code></pre></div>
<p><br></p>

<p>イメージ変更前に戻すには、<code>kubectl rollout undo</code>する。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl rollout undo deploy/goslings</span>
deployment <span style="color:#ed9d13">&#34;goslings&#34;</span> rolled back

C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl rollout status deploy/goslings</span>
deployment <span style="color:#ed9d13">&#34;goslings&#34;</span> successfully rolled out

C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;kubectl get po</span>
NAME                       READY     STATUS    RESTARTS   AGE
goslings-442066424-kmn3p   1/1       Running   0          1h
goslings-442066424-m3873   1/1       Running   0          5s</code></pre></div>
<p>無事に戻った。</p>

<h1 id="番外編1-3つのオブジェクト管理手法">番外編1 - 3つのオブジェクト管理手法</h1>

<p>Kubernetesオブジェクトを管理する手法は<a href="https://kubernetes.io/docs/tutorials/object-management-kubectl/object-management/">大きく3つある</a>。</p>

<table>
<thead>
<tr>
<th>管理手法</th>
<th>いじる対象</th>
<th>難易度</th>
</tr>
</thead>

<tbody>
<tr>
<td>命令的コマンド</td>
<td>生のオブジェクト</td>
<td>簡単</td>
</tr>

<tr>
<td>命令的オブジェクト設定</td>
<td>個々のファイル</td>
<td>普通</td>
</tr>

<tr>
<td>宣言的オブジェクト設定</td>
<td>ディレクトリに入ったファイル群</td>
<td>難しい</td>
</tr>
</tbody>
</table>

<p><br></p>

<p>Kubernetes Basicsでやってた手法は一番上の命令的コマンド。
これは簡単で分かりやすい。
けど、何度も同じようなデプロイするならコマンドを毎回打つのが面倒だし、作成されるオブジェクトは明示的じゃないし、変更管理もできない。
この手法は主に開発中に使う。</p>

<p><br></p>

<p>二つ目の手法の命令的オブジェクト設定では、YAML(かJSON)ファイルにオブジェクト定義を書いておいて、kubectlに渡す。
この手法だと、定義ファイルをオブジェクトのテンプレートとして使えるし、Gitとかのリポジトリに入れることでバージョン管理・変更管理できる。
けど、Kubernetesのオブジェクトモデルを理解しないと使えない。
(オブジェクト定義の詳細は<a href="https://kubernetes.io/docs/api-reference/v1.8/">APIリファレンス</a>を参照。)</p>

<p>命令的オブジェクト設定は以下のような形でやる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">$ kubectl create -f nginx.yaml
$ kubectl delete -f nginx.yaml -f redis.yaml
$ kubectl replace -f nginx.yaml</code></pre></div>
<p><br></p>

<p>三つ目の手法の宣言的オブジェクト設定では、設定フォルダに定義ファイル群を置く。
ユーザは明示的にcreateとかupdateとか指示する必要が無く、kubectlが勝手に判断してくれる。
生のオブジェクトを直接いじった後、同じオブジェクトの設定を設定ファイルで変更しても、
両者の変更が上手くマージされる。</p>

<p>なんかすごいけど、上手くいかなかったときのデバッグがむずい。</p>

<p>宣言的オブジェクト設定は以下のような形でやる。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-console" data-lang="console">$ kubectl apply -R -f configs/</code></pre></div>
<h1 id="番外編2-命令的オブジェクト設定">番外編2 - 命令的オブジェクト設定</h1>

<p>3つの手法の内、命令的オブジェクト設定でGoslingsをMinikubeにデプロイしてみる。</p>

<p>まず、Kubernetes Basicsで作ったオブジェクトを消すため、MinikubeのVMを作り直す。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;minikube stop</span>
Stopping local Kubernetes cluster...
Machine stopped.

C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;minikube delete</span>
Deleting local Kubernetes cluster...
Machine deleted.

C:\Users\kaitoy<span style="color:#999;font-style:italic">&gt;minikube start --vm-driver virtualbox --kubernetes-version v1.7.0</span>
Starting local Kubernetes v1.7.0 cluster...
Starting VM...
Getting VM IP address...
Moving files into cluster...
Setting up certs...
Connecting to cluster...
Setting up kubeconfig...
Starting cluster components...
Kubectl is now configured to use the cluster.</code></pre></div>
<p><br></p>

<p>次に定義ファイルを書いていく。</p>

<p><a href="https://v1-7.docs.kubernetes.io/docs/api-reference/v1.7/#deployment-v1beta1-apps">APIリファレンスのDeploymentのとこ</a>をみると、Kubernetes Basicsの最終形と同じようなDeploymentを作る定義は以下のように書ける。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">apiVersion:<span style="color:#666"> </span>apps/v1beta1<span style="color:#666">
</span><span style="color:#666"></span>kind:<span style="color:#666"> </span>Deployment<span style="color:#666">
</span><span style="color:#666"></span>metadata:<span style="color:#666">
</span><span style="color:#666">  </span>name:<span style="color:#666"> </span>goslings-sample<span style="color:#666">
</span><span style="color:#666"></span>spec:<span style="color:#666">
</span><span style="color:#666">  </span>replicas:<span style="color:#666"> </span><span style="color:#3677a9">2</span><span style="color:#666">
</span><span style="color:#666">  </span>template:<span style="color:#666">
</span><span style="color:#666">    </span>metadata:<span style="color:#666">
</span><span style="color:#666">      </span>labels:<span style="color:#666">
</span><span style="color:#666">        </span>app:<span style="color:#666"> </span>goslings<span style="color:#666">
</span><span style="color:#666">        </span>ver:<span style="color:#666"> </span>latest<span style="color:#666">
</span><span style="color:#666">    </span>spec:<span style="color:#666">
</span><span style="color:#666">      </span>containers:<span style="color:#666">
</span><span style="color:#666">        </span>-<span style="color:#666"> </span>name:<span style="color:#666"> </span>goslings<span style="color:#666">
</span><span style="color:#666">          </span>image:<span style="color:#666"> </span>kaitoy/goslings:latest<span style="color:#666">
</span><span style="color:#666">          </span>ports:<span style="color:#666">
</span><span style="color:#666">            </span>-<span style="color:#666"> </span>name:<span style="color:#666"> </span>http<span style="color:#666">
</span><span style="color:#666">              </span>containerPort:<span style="color:#666"> </span><span style="color:#3677a9">8080</span><span style="color:#666">
</span><span style="color:#666">          </span>args:<span style="color:#666">
</span><span style="color:#666">            </span>-<span style="color:#666"> </span><span style="color:#ed9d13">&#39;8080&#39;</span><span style="color:#666">
</span><span style="color:#666">            </span>-<span style="color:#666"> </span>/tmp<span style="color:#666">
</span><span style="color:#666">            </span>-<span style="color:#666"> </span>https://github.com/kaitoy/</code></pre></div>
<p>同様に、Serviceは、<a href="https://v1-7.docs.kubernetes.io/docs/api-reference/v1.7/#service-v1-core">APIリファレンスのServiceのとこ</a>みると以下のように書ける。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">kind:<span style="color:#666"> </span>Service<span style="color:#666">
</span><span style="color:#666"></span>apiVersion:<span style="color:#666"> </span>v1<span style="color:#666">
</span><span style="color:#666"></span>metadata:<span style="color:#666">
</span><span style="color:#666">  </span>name:<span style="color:#666"> </span>goslings-sample<span style="color:#666">
</span><span style="color:#666"></span>spec:<span style="color:#666">
</span><span style="color:#666">  </span>ports:<span style="color:#666">
</span><span style="color:#666">    </span>-<span style="color:#666"> </span>name:<span style="color:#666"> </span>http<span style="color:#666">
</span><span style="color:#666">      </span>port:<span style="color:#666"> </span><span style="color:#3677a9">8080</span><span style="color:#666">
</span><span style="color:#666">      </span>targetPort:<span style="color:#666"> </span><span style="color:#3677a9">8080</span><span style="color:#666">
</span><span style="color:#666">  </span>selector:<span style="color:#666">
</span><span style="color:#666">    </span>app:<span style="color:#666"> </span>goslings<span style="color:#666">
</span><span style="color:#666">  </span>type:<span style="color:#666"> </span>NodePort</code></pre></div>
<p><br></p>

<p>で、それぞれのYAMLファイルを<code>kubectl create</code>に渡してやると、Goslingsデプロイ完了。</p>
<div class="highlight"><pre style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">C:\Users\kaitoy\kubeTest<span style="color:#999;font-style:italic">&gt;kubectl create -f deploy_goslings.yml</span>
deployment <span style="color:#ed9d13">&#34;goslings-sample&#34;</span> created

C:\Users\kaitoy\kubeTest<span style="color:#999;font-style:italic">&gt;kubectl create -f service_goslings.yml</span>
service <span style="color:#ed9d13">&#34;goslings-sample&#34;</span> created</code></pre></div>
<p><br></p>

<p>オブジェクトの種類もパラメータも大量にあるので、使いこなすのは難しそう。</p></div>

        <section class="share-buttons">
          <div class="fb-share-button share-button" data-href="https://www.kaitoy.xyz/2017/10/11/goslings-on-kubernetes-cont/" data-layout="button_count" data-size="small"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">シェア</a></div>
          <div class="share-button">
            <a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class="twitter-share-button" data-text="Kubernetesのチュートリアルをやる" data-url="https://www.kaitoy.xyz/2017/10/11/goslings-on-kubernetes-cont/" data-show-count="true" data-count="horizontal">Tweet</a>
          </div>
          <div class="share-button">
            <a href="https://b.hatena.ne.jp/entry/" class="hatena-bookmark-button" data-hatena-bookmark-layout="basic-label-counter" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="https://b.st-hatena.com/images/v4/public/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a><script type="text/javascript" src="https://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script>
          </div>
          <div class="share-button">
            <a data-pocket-label="pocket" data-pocket-count="horizontal" class="pocket-btn" data-lang="en"></a>
            <script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>
          </div>
        </section>
    </div>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-6244473643910448"
         data-ad-slot="1845600530"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

    <section class="tbd-pagination">
      <div class="row">
        <div class="col-sm-6">
          <div class="prev">
            
            <a href="https://www.kaitoy.xyz/2017/10/10/goslings-on-kubernetes/">
              <i class="fa fa-angle-left"></i>
              Kubernetes 1.8が出たので、Minikubeを触ってみる
            </a>
            
          </div>
        </div>
        <div class="col-sm-6">
          <div class="next text-right">
            
            <a href="https://www.kaitoy.xyz/2017/10/21/build-kubernetes-cluster-by-kubeadm/">
              Kubernetes1.8のクラスタを構築する。kubeadmで。
              <i class="fa fa-angle-right"></i>
            </a>
            
          </div>
        </div>
      </div>
    </section>

    
    

    

        <h4 class="page-header">Related</h4>

        <div class="related-links">
           <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2024/07/24/langchain-k8s-agent/">LangChainのAgentでKubernetes操作は楽になるのか</a></h4>
    <h5>Wed, Jul 24, 2024</h5>
    
    <a href="https://www.kaitoy.xyz/tags/genai"><kbd class="item-tag">GenAI</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/openai"><kbd class="item-tag">OpenAI</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/gpt"><kbd class="item-tag">GPT</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/langchain"><kbd class="item-tag">LangChain</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2023/12/25/eks-pod-identity/">IRSAに代わるEKS Pod Identityをさわる</a></h4>
    <h5>Mon, Dec 25, 2023</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/aws"><kbd class="item-tag">AWS</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/eks"><kbd class="item-tag">eks</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2022/09/25/amazon-eks-pod-identity-webhook/">IAM Roles for Service AccountsをLocalStackとAmazon EKS Pod Identity Webhookで実装する</a></h4>
    <h5>Sun, Sep 25, 2022</h5>
    
    <a href="https://www.kaitoy.xyz/tags/aws"><kbd class="item-tag">AWS</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/eks"><kbd class="item-tag">eks</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/iam"><kbd class="item-tag">iam</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/irsa"><kbd class="item-tag">irsa</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/localstack"><kbd class="item-tag">localstack</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2022/09/17/aws-irsa/">AWS EKSのIAM Roles for Service Accountsを完全に理解した</a></h4>
    <h5>Sat, Sep 17, 2022</h5>
    
    <a href="https://www.kaitoy.xyz/tags/aws"><kbd class="item-tag">AWS</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/eks"><kbd class="item-tag">eks</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/iam"><kbd class="item-tag">iam</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/irsa"><kbd class="item-tag">irsa</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2022/09/10/crunchy-data-pgo-is-not-oss/">Crunchy DataのPostgreSQL Operator (PGO)はOSSじゃない</a></h4>
    <h5>Sat, Sep 10, 2022</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/postgresql"><kbd class="item-tag">postgresql</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/pgo"><kbd class="item-tag">pgo</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/license"><kbd class="item-tag">license</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2022/09/04/irsa-emu/">EKSの外でIAM Roles for Service Accountsっぽいことを実現するMutating Admission Webhookを作った</a></h4>
    <h5>Sun, Sep 4, 2022</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/eks"><kbd class="item-tag">eks</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/irsa-emu"><kbd class="item-tag">irsa-emu</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/localstack"><kbd class="item-tag">localstack</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/vault"><kbd class="item-tag">vault</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/aws"><kbd class="item-tag">AWS</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/iam"><kbd class="item-tag">iam</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2021/12/09/virtual-kubelet-liqo/">Liqoのvirtual-kubeletでKubernetesクラスタからk3sにPodをオフロードする</a></h4>
    <h5>Thu, Dec 9, 2021</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/k3s"><kbd class="item-tag">k3s</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/virtual-kubelet"><kbd class="item-tag">virtual-kubelet</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/liqo"><kbd class="item-tag">liqo</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2021/12/09/virtual-kubelet-admiralty/">Admiraltyのvirtual-kubeletでKubernetesクラスタからk3sにPodをオフロードする</a></h4>
    <h5>Thu, Dec 9, 2021</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/k3s"><kbd class="item-tag">k3s</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/virtual-kubelet"><kbd class="item-tag">virtual-kubelet</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/admiralty"><kbd class="item-tag">admiralty</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2021/08/16/k3s-on-eks/">EKSとオンプレVMとの間でk3sクラスタを組む</a></h4>
    <h5>Mon, Aug 16, 2021</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/k3s"><kbd class="item-tag">k3s</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/aws"><kbd class="item-tag">AWS</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/eks"><kbd class="item-tag">eks</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2021/08/15/k3s-on-on-premises-k8s/">k3sをオンプレの手製Kubernetesクラスタで動かす</a></h4>
    <h5>Sun, Aug 15, 2021</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/k3s"><kbd class="item-tag">k3s</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2021/04/06/k8s-on-alma-linux-8/">Kubernetes 1.20 のクラスタを AlmaLinux 8で構築する</a></h4>
    <h5>Tue, Apr 6, 2021</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/alma-linux"><kbd class="item-tag">alma-linux</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2020/12/20/k8s-zundoko-ansible-operator/">ズンドコキヨシ with Kubernetes Ansible Operator - Operator SDKのAnsible Operatorを使ってみた</a></h4>
    <h5>Sun, Dec 20, 2020</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/operator-sdk"><kbd class="item-tag">operator-sdk</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/zundoko"><kbd class="item-tag">zundoko</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/ansible"><kbd class="item-tag">ansible</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2020/12/06/cri-dockerd/">Kubernetesでdockershimが廃止されても、KubernetesでDockerが使えなくなるわけじゃないよ</a></h4>
    <h5>Sun, Dec 6, 2020</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2020/10/31/metallb/">MetalLB入門 ― オンプレKubernetesクラスタでLoadBalancerタイプのServiceを使う</a></h4>
    <h5>Sat, Oct 31, 2020</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/metallb"><kbd class="item-tag">metallb</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2020/10/11/rook-ceph/">Rook/CephでCephFSを試す</a></h4>
    <h5>Sun, Oct 11, 2020</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/rook"><kbd class="item-tag">rook</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/ceph"><kbd class="item-tag">ceph</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2019/12/11/kong-ingress-controller/">Kong Ingress ControllerでKongの設定を管理する</a></h4>
    <h5>Wed, Dec 11, 2019</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/kong"><kbd class="item-tag">kong</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2019/12/05/k8s-on-centos8-with-containerd/">Kubernetes 1.16 のクラスタを CentOS 8 と containerd で構築する</a></h4>
    <h5>Thu, Dec 5, 2019</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/containerd"><kbd class="item-tag">containerd</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2019/09/23/k8s-ecosystem-misc/">Kubernetesのエコシステム ー その他雑多</a></h4>
    <h5>Mon, Sep 23, 2019</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2019/08/14/k8s-ecosystem-k8s-variations-and-container-host-oses/">Kubernetesのエコシステム ー KubernetesバリエーションとコンテナホストOS編</a></h4>
    <h5>Wed, Aug 14, 2019</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2019/07/27/introduction-to-k8s/">Kubernetes入門</a></h4>
    <h5>Sat, Jul 27, 2019</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/microservices"><kbd class="item-tag">microservices</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2019/07/26/k8s-meetup-tokyo-21/">Kubernetes Meetup Tokyo #21 - Cloud Native CI/CD に行ってきた</a></h4>
    <h5>Fri, Jul 26, 2019</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/argo"><kbd class="item-tag">argo</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/gitops"><kbd class="item-tag">gitops</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/spinnaker"><kbd class="item-tag">spinnaker</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/argo"><kbd class="item-tag">argo</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2019/06/23/k8s-ecosystem-preparing-k8s-cluster/">Kubernetesのエコシステム ー Kubernetesクラスタ構築編</a></h4>
    <h5>Sun, Jun 23, 2019</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2019/06/15/k8s-ecosystem-container-runtimes/">Kubernetesのエコシステム ー コンテナランタイム編</a></h4>
    <h5>Sat, Jun 15, 2019</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/containerd"><kbd class="item-tag">containerd</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2019/03/08/k8s-zundoko-operator/">ズンドコキヨシ with Kubernetes Operator - KubebuilderでKubernetes Operatorを作ってみた</a></h4>
    <h5>Fri, Mar 8, 2019</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/kubebuilder"><kbd class="item-tag">kubebuilder</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/zundoko"><kbd class="item-tag">zundoko</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/golang"><kbd class="item-tag">golang</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/06/17/packer-k8s/">Packer &#43; Ansible on Windows 10でKubernetes 1.10のクラスタ on VirtualBoxを全自動構築</a></h4>
    <h5>Sun, Jun 17, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/ansible"><kbd class="item-tag">ansible</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/packer"><kbd class="item-tag">packer</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/msys2"><kbd class="item-tag">msys2</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/06/03/build-k8s-cluster-by-ansible/">Kubernetes 1.10のクラスタを全手動で構築するのをAnsibleで全自動化した</a></h4>
    <h5>Sun, Jun 3, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/ansible"><kbd class="item-tag">ansible</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/05/05/kubernetes-kubelet-config-and-pod-sec-policy/">Kubernetes 1.10のkubeletの起動オプションをKubelet ConfigファイルとPodSecurityPolicyで置き換える</a></h4>
    <h5>Sat, May 5, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/05/04/kubernetes-with-weave-net/">Kubernetes 1.10のクラスタにWeave Netをデプロイする</a></h4>
    <h5>Fri, May 4, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/04/17/kubernetes110-from-scratch/">Kubernetes 1.10をスクラッチから全手動で構築</a></h4>
    <h5>Tue, Apr 17, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2018/04/01/hello-skaffold/">Skaffoldを触ってみた</a></h4>
    <h5>Sun, Apr 1, 2018</h5>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/skaffold"><kbd class="item-tag">skaffold</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/minikube"><kbd class="item-tag">minikube</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2017/10/31/retry-dashboard-on-k8s-cluster-by-kubeadm/">Kubernetes 1.8のアクセス制御について。あとDashboard。</a></h4>
    <h5>Tue, Oct 31, 2017</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2017/10/21/build-kubernetes-cluster-by-kubeadm/">Kubernetes1.8のクラスタを構築する。kubeadmで。</a></h4>
    <h5>Sat, Oct 21, 2017</h5>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/kubeadm"><kbd class="item-tag">kubeadm</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2017/10/10/goslings-on-kubernetes/">Kubernetes 1.8が出たので、Minikubeを触ってみる</a></h4>
    <h5>Tue, Oct 10, 2017</h5>
    
    <a href="https://www.kaitoy.xyz/tags/goslings"><kbd class="item-tag">goslings</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/kubernetes"><kbd class="item-tag">Kubernetes</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/minikube"><kbd class="item-tag">minikube</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2017/08/14/webdriverio-chrome/">WebdriverIOとChromeのヘッドレスモードで自動ブラウザテストするDockerイメージ: webdriverio-chrome</a></h4>
    <h5>Mon, Aug 14, 2017</h5>
    
    <a href="https://www.kaitoy.xyz/tags/servicenow"><kbd class="item-tag">servicenow</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/selenium"><kbd class="item-tag">selenium</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/webdriverio"><kbd class="item-tag">webdriverio</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2017/03/05/firedrop-private-beta/">Firedrop(プライベートベータ)が全く期待外れだった件</a></h4>
    <h5>Sun, Mar 5, 2017</h5>
    
    <a href="https://www.kaitoy.xyz/tags/firedrop"><kbd class="item-tag">firedrop</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/goslings"><kbd class="item-tag">goslings</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2017/01/24/goslings-development-memo5-spring-boot-static-resources/">Goslings開発メモ - その5: Spring Boot最終編 (静的リソース処理)</a></h4>
    <h5>Tue, Jan 24, 2017</h5>
    
    <a href="https://www.kaitoy.xyz/tags/goslings"><kbd class="item-tag">goslings</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/spring"><kbd class="item-tag">spring</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/spring-boot"><kbd class="item-tag">spring-boot</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2017/01/17/goslings-development-memo4-spring-boot-logging/">Goslings開発メモ - その4: Spring Boot続続続編 (ロギング)</a></h4>
    <h5>Tue, Jan 17, 2017</h5>
    
    <a href="https://www.kaitoy.xyz/tags/goslings"><kbd class="item-tag">goslings</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/spring"><kbd class="item-tag">spring</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/spring-boot"><kbd class="item-tag">spring-boot</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2017/01/13/goslings-development-memo3-spring-boot-exception/">Goslings開発メモ - その3: Spring Boot続続編 (例外処理)</a></h4>
    <h5>Fri, Jan 13, 2017</h5>
    
    <a href="https://www.kaitoy.xyz/tags/goslings"><kbd class="item-tag">goslings</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/spring"><kbd class="item-tag">spring</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/spring-boot"><kbd class="item-tag">spring-boot</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2017/01/10/goslings-development-memo2-spring-boot-di/">Goslings開発メモ - その2: Spring Boot続編 (DI)</a></h4>
    <h5>Tue, Jan 10, 2017</h5>
    
    <a href="https://www.kaitoy.xyz/tags/goslings"><kbd class="item-tag">goslings</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/spring"><kbd class="item-tag">spring</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/spring-boot"><kbd class="item-tag">spring-boot</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2017/01/03/goslings-development-memo1-spring-boot/">Goslings開発メモ - その1: Spring Boot編</a></h4>
    <h5>Tue, Jan 3, 2017</h5>
    
    <a href="https://www.kaitoy.xyz/tags/goslings"><kbd class="item-tag">goslings</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/spring"><kbd class="item-tag">spring</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/spring-boot"><kbd class="item-tag">spring-boot</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2016/12/11/goslings-development-memo0-intro-design/">Goslings開発メモ - その0: 紹介と概要と設計編</a></h4>
    <h5>Sun, Dec 11, 2016</h5>
    
    <a href="https://www.kaitoy.xyz/tags/goslings"><kbd class="item-tag">goslings</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/spring"><kbd class="item-tag">spring</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/spring-boot"><kbd class="item-tag">spring-boot</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/jgit"><kbd class="item-tag">jgit</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/aws"><kbd class="item-tag">AWS</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/aws-ecs"><kbd class="item-tag">aws-ecs</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/git"><kbd class="item-tag">git</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2016/09/15/pcap4j-on-hyper-v-container-on-win10/">Pcap4J on Nano Server on Hyper-V Containers on Windows 10 on VMware Playerにトライ</a></h4>
    <h5>Thu, Sep 15, 2016</h5>
    
    <a href="https://www.kaitoy.xyz/tags/windows"><kbd class="item-tag">windows</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/nanoserver"><kbd class="item-tag">nanoserver</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/pcap4j"><kbd class="item-tag">pcap4j</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2016/09/12/unzip-on-nanoserver/">Hyper-Vコンテナ(Nano Server)でunzipしたいならjarを使え</a></h4>
    <h5>Mon, Sep 12, 2016</h5>
    
    <a href="https://www.kaitoy.xyz/tags/windows"><kbd class="item-tag">windows</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/nanoserver"><kbd class="item-tag">nanoserver</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2016/07/31/docker-for-windows/">Docker for Windowsがコレジャナかった</a></h4>
    <h5>Sun, Jul 31, 2016</h5>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/windows"><kbd class="item-tag"> windows</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2016/07/11/windows_containers_on_tp5/">Windows Server 2016 TP5でWindows Containersにリトライ</a></h4>
    <h5>Mon, Jul 11, 2016</h5>
    
    <a href="https://www.kaitoy.xyz/tags/pcap4j"><kbd class="item-tag">pcap4j</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/windows"><kbd class="item-tag">windows</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2016/01/22/pcap4j-meets-windows-containers/">Pcap4J Meets Windows Containers</a></h4>
    <h5>Fri, Jan 22, 2016</h5>
    
    <a href="https://www.kaitoy.xyz/tags/pcap4j"><kbd class="item-tag">pcap4j</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/windows"><kbd class="item-tag">windows</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2015/07/27/another-way-to-capture-lan-packets-with-pcap4j-container/">Another way to capture LAN packets with pcap4j container</a></h4>
    <h5>Mon, Jul 27, 2015</h5>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/pcap4j"><kbd class="item-tag">pcap4j</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2015/07/25/how-to-capture-packets-on-a-local-network-with-pcap4j-container/">How to capture packets on a local network with Pcap4J container</a></h4>
    <h5>Sat, Jul 25, 2015</h5>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/pcap4j"><kbd class="item-tag">pcap4j</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4 class="post-title"><a href="/2015/07/19/pcap4j-container-with-runc/">Pcap4J container with runC</a></h4>
    <h5>Sun, Jul 19, 2015</h5>
    
    <a href="https://www.kaitoy.xyz/tags/pcap4j"><kbd class="item-tag">pcap4j</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/runc"><kbd class="item-tag">runc</kbd></a>
    
    <a href="https://www.kaitoy.xyz/tags/docker"><kbd class="item-tag">docker</kbd></a>
    

</div>
 
        </div>
    

    

        <h4 class="page-header">Comments</h4>

        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "kaitoy-tobedecided" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    

</main>

        <footer>

            <p class="copyright text-muted">&copy; 2015 Kaito Yamada. Powered by <a href="https://gohugo.io">Hugo</a> and <a href="https://github.com/calintat/minimal">Minimal</a></p>

        </footer>

        <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

    </body>

</html>

